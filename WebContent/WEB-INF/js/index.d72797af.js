(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)r=o[u],n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={index:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="../";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([2,"chunk-vendors"]),a()})({"0444":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown"},[a("div",{staticClass:"btn-group",class:t.rootClass},[a("button",{staticClass:"btn dropdown-toggle",class:t.selectedItemNameBtnClass,attrs:{type:"button","data-toggle":"dropdown"}},[t._v(t._s(t.selectedItemName))]),a("div",{staticClass:"dropdown-menu",class:t.menuDivClass,style:t.scroll?"overflow-y: auto; max-height: "+t.menuDivMaxHeight:""},t._l(t.items,function(e){return a("a",{staticClass:"dropdown-item",class:{active:t.selectedItem===e},staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectItem(e)}}},[t._v(t._s(e[t.displayAttr]))])}),0)])])},n=[],i={data:function(){return{selectedItem:null}},props:{items:{type:Array,require:!1,default:[]},defaultSelectedIndex:{type:Number,require:!1,default:0},rootClass:{type:String,require:!1,value:""},selectedItemNameBtnClass:{type:String,require:!1,default:"btn-secondary"},toggleDropdownBtnClass:{type:String,require:!1,default:"btn-secondary"},menuDivClass:{type:String,require:!1,default:""},menuItemClass:{type:String,require:!1,default:""},scroll:{type:Boolean,require:!1,default:!1},menuDivMaxHeight:{type:String,require:!1,default:"250px"},displayAttr:{type:String,require:!1,default:"displayName"}},methods:{selectItem:function(t){t&&(this.selectedItem=t,this.$emit("selectedItem",this.selectedItem))}},computed:{selectedItemName:function(){return this.selectedItem?this.selectedItem[this.displayAttr]:""}},created:function(){this.selectItem(this.items[this.defaultSelectedIndex])}},r=i,o=a("2877"),c=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=c.exports},"05cf":function(t,e,a){},"0722":function(t,e,a){"use strict";e["a"]=[{displayName:"템플릿 1",value:1},{displayName:"템플릿 2",value:2},{displayName:"템플릿 3",value:3},{displayName:"템플릿 4",value:4}]},"0fe5":function(t,e,a){},"120d":function(t,e,a){"use strict";var s=a("05cf"),n=a.n(s);n.a},"1a2f":function(t,e,a){"use strict";var s=a("72e2"),n=a.n(s);n.a},"1b7b":function(t,e,a){},2:function(t,e,a){t.exports=a("df31")},2699:function(t,e,a){"use strict";function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Jan","Feb","March","April","May","June","July","August","Sep","Oct","Nov","Dec"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Thursday","Friday","Saturday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c={AM:"AM",PM:"PM"},l=Object.create(null,{HOUR:{enumerable:!0,value:24},MINUTE:{enumerable:!0,value:60},SECONDS:{enumerable:!0,value:60},MILLISECONDS:{enumerable:!0,value:1e3}}),d=Object.create(null,{YEAR:{enumerable:!0,value:0},MONTH:{enumerable:!0,value:1},DAY:{enumerable:!0,value:2},HOUR:{enumerable:!0,value:3},MINUTE:{enumerable:!0,value:4},SECONDS:{enumerable:!0,value:5},MILLISECONDS:{enumerable:!0,value:6}});function u(t){return/^[0-9]{1}$/.test(t)?"0"+t:t}function p(t,e){return e.replace(/yyyy/gi,t.getFullYear()).replace(/yy/gi,String(t.getFullYear()).slice(2,4)).replace(/MI/gi,u(t.getMinutes())).replace(/MMMM/gi,n[t.getMonth()]).replace(/MMM/gi,i[t.getMonth()]).replace(/MM/gi,u(t.getMonth()+1)).replace(/M/gi,t.getMonth()+1).replace(/DDDD/gi,r[t.getDay()]).replace(/DDD/gi,o[t.getDay()]).replace(/DD/gi,u(t.getDate())).replace(/D/gi,t.getDate()).replace(/HH24/gi,u(t.getHours())).replace(/HH/gi,u(t.getHours()%12)).replace(/H/gi,t.getHours()%12).replace(/SS/gi,u(t.getSeconds())).replace(/PP/gi,t.getHours()<=12?c.AM:c.PM).replace(/P/gi,(t.getHours()<=12?c.AM:c.PM).toLowerCase())}function h(t,e){var a,n=new Date;switch("string"===typeof t&&(a=new Date(t),isNaN(a)?e=t:t=a),"string"!==typeof e&&(e="YYYY-MM-DD HH24:MI:SS"),!0){case t instanceof Date:n=t;break;case t&&"object"===s(t):var i=n.getFullYear(),r=n.getMonth(),o=n.getDate(),c=n.getHours(),l=n.getMinutes(),d=n.getSeconds(),u=n.getMilliseconds();Number.isInteger(t.year)&&(i=t.year),Number.isInteger(t.month)&&(r=t.month),Number.isInteger(t.day)&&(o=t.day),Number.isInteger(t.hours)&&(c=t.hours),Number.isInteger(t.minutes)&&(l=t.minutes),Number.isInteger(t.seconds)&&(d=t.seconds),Number.isInteger(t.milliseconds)&&(u=t.milliseconds),n=new Date(i,r,o,c,l,d,u);break}return p(n,e)}function m(t){return t=t instanceof Date?t:new Date(t),{year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),seconds:t.getUTCSeconds(),milliseconds:t.getMilliseconds()}}function g(t,e,a){return"number"!==typeof a&&(a=d.MILLISECONDS),t=Date.UTC.apply(null,v(m(t))),e=Date.UTC.apply(null,v(m(e))),(t-e)/f(a)}function f(t){return Object.keys(d).filter(function(e){return t<d[e.toUpperCase()]}).reduce(function(t,e){return t*l[e]},1)}function v(t){return Object.keys(t).map(function(e){return t[e]})}e["a"]={MASK:l,CRITERIA:d,parseUTC:m,dateCompareTo:g,toFormat:h}},"2f4c":function(t,e,a){},"329e":function(t,e,a){"use strict";var s=a("2f4c"),n=a.n(s);n.a},"36c5":function(t,e,a){},3933:function(t,e,a){"use strict";var s=a("2b0e"),n=a("85ff"),i=a.n(n);s["a"].use(i.a,{logLevel:"info",stringifyArguments:!1,showLogLevel:!0,separator:"|",showConsoleColors:!0})},"397a":function(t,e,a){},"3a3f":function(t,e,a){"use strict";var s=a("8973"),n=a.n(s);n.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return a(e)}function i(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="4678"},4848:function(t,e,a){},"49a5":function(t,e,a){"use strict";var s=a("7248"),n=a.n(s);n.a},"4a04":function(t,e,a){"use strict";var s=a("bc3a"),n=a.n(s),i={timeout:1e4},r={GET:"get",POST:"post",PUT:"put",DELETE:"delete"};e["a"]={METHOD:r,getUrl:function(t){return("string"===typeof i.host?"http://"+i.host:"")+t},request:function(t){return"number"!==typeof t.timeout&&(t.timeout=i.timeout),n()(t)},wsServer:location.hostname+":10000"}},"4ee9":function(t,e,a){"use strict";var s=a("a48e"),n=a.n(s);n.a},"517a":function(t,e,a){},"5fb0":function(t,e,a){"use strict";var s=a("1b7b"),n=a.n(s);n.a},7248:function(t,e,a){},"729e":function(t,e,a){"use strict";e["a"]=[{displayName:"이미지",value:"001",mediaType:"image/*",key:"img"},{displayName:"동영상",value:"002",mediaType:"video/mp4,video/ogg,video/webm",key:"mov"},{displayName:"자막",value:"003",mediaType:".psb, .srt, .ssa, .sub, .sami, .smi, .usf, .vtt",key:"sub"},{displayName:"웹URL",value:"004",key:"url"}]},"72e2":function(t,e,a){},"74c3":function(t,e,a){"use strict";var s=a("baf5"),n=a.n(s);n.a},"75de":function(t,e,a){},"7a8b":function(t,e,a){"use strict";var s=a("0fe5"),n=a.n(s);n.a},"7f0a":function(t,e,a){"use strict";var s=a("75de"),n=a.n(s);n.a},"7fd5":function(t,e,a){},8973:function(t,e,a){},"89d3":function(t,e,a){"use strict";var s=a("4848"),n=a.n(s);n.a},"95c1":function(t,e,a){},a16d:function(t,e,a){},a48e:function(t,e,a){},a8bb:function(t,e,a){"use strict";var s=a("397a"),n=a.n(s);n.a},b279:function(t,e,a){"use strict";var s=a("2699"),n="YYYY-MM-DD",i="YYYYMMDDHH24MISS";e["a"]={cookie:{addCookie:function(t,e,a){var s,n=t+"="+e+"; expires=";n+=a||(s=new Date,s.setFullYear(s.getFullYear()+10),s.toUTCString()),document.cookie=n},getCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null},removeCookie:function(t){document.cookie=t+"=; expires="+(new Date).toUTCString()}},date:{toFormat:function(t,e){return s["a"].toFormat(t,e)},dateToFormat:function(t){var e,a=n;switch(!0){case"string"===typeof t:var r=t.substr(0,4),o=t.substr(4,2),c=t.substr(6,2);e=new Date(r,o-1,c);break;case t instanceof Date:e=t,a=i;break}return s["a"].toFormat(e,a)},toDate:function(t){var e=new Date;return e.setFullYear(parseInt(t.substring(0,4))),e.setMonth(parseInt(t.substring(4,6))-1),e.setDate(parseInt(t.substring(6,8))),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}}}},b5d3:function(t,e,a){"use strict";var s=a("a16d"),n=a.n(s);n.a},b617:function(t,e,a){"use strict";var s=a("95c1"),n=a.n(s);n.a},baf5:function(t,e,a){},bd62:function(t,e,a){},cfbb:function(t,e,a){"use strict";var s=a("36c5"),n=a.n(s);n.a},d485:function(t,e,a){"use strict";var s=a("d9a1"),n=a.n(s);n.a},d6b0:function(t,e,a){"use strict";var s=a("517a"),n=a.n(s);n.a},d9a1:function(t,e,a){},daa4:function(t,e,a){"use strict";var s=a("7fd5"),n=a.n(s);n.a},df31:function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("0298"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var s=a("2b0e"),n=(a("3933"),a("2f62")),i={namespaced:!0,state:{menu:null,selectedSubMenu:{},isReload:!1},getters:{selectedMenu:function(t,e){return t.menu},selectedSubMenu:function(t,e){return t.selectedSubMenu},isReload:function(t){return t.isReload}},mutations:{selectMenu:function(t,e){e&&(t.menu=e)},selectSubMenu:function(t,e){e&&(t.selectedSubMenu=e)},reload:function(t){console.log("reload"),t.isReload=!0,setTimeout(function(){return t.isReload=!1},500)}},actions:{selectMenu:function(t,e){t.commit("selectMenu",e)},selectSubMenu:function(t,e){t.commit("selectSubMenu",e)},reload:function(t){t.commit("reload")}}},r={namespaced:!0,state:{title:"",contentPath:"",contents:[],boardType:"",contentType:""},mutations:{setData:function(t,e){e&&(t.boardType=e.boardType,t.contentType=e.contentType,t.title=e.title,t.contentPath=e.contentPath,t.contents=e.contents)},clear:function(t){console.log("preview clear"),t.boardType="",t.contentType="",t.title="",t.contentPath="",t.contents=[]}},actions:{setData:function(t,e){t.commit("setData",e)},clear:function(t){t.commit("clear")}}},o={namespaced:!0,state:{locations:[],selectedLocations:[]},mutations:{setData:function(t,e){e&&(t.locations=e.locations,t.selectedLocations=e.selectedLocations)}},actions:{setData:function(t,e){t.commit("setData",e)}}},c={menu:i,preview:r,location:o};s["a"].use(n["b"]);var l=new n["b"].Store({modules:c}),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"app-header navbar"},[t._m(0),t._m(1),t._m(2),a("ul",{staticClass:"nav navbar-nav d-md-down-none"},t._l(t.menu?t.menu:[],function(e){return a("li",{staticClass:"nav-item px-3"},[a("router-link",{staticClass:"nav-link",class:{active:t.$store.getters["menu/selectedMenu"].menuCode===e.menuCode},attrs:{to:e.routePath},nativeOn:{click:function(a){return t.selectMenu(e)}}},[t._v("\n                "+t._s(e.menuName)+"\n            ")])],1)}),0),a("ul",{staticClass:"nav navbar-nav ml-auto"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[a("label",{staticClass:"text-primary"},[t._v(t._s(t.userId)+"님 로그인")])]),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[t._m(3),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.goNotification()}}},[a("i",{staticClass:"fa fa-envelope-o"}),t._v(" 알림\n                    "),a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.getNotificationCount()))])]),t._m(4),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.goMyInfo()}}},[a("i",{staticClass:"fa fa-user"}),t._v(" 내정보")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.goLogout()}}},[a("i",{staticClass:"fa fa-lock"}),t._v(" 로그아웃")])])])]),a("button",{staticClass:"navbar-toggler aside-menu-toggler d-md-down-none",attrs:{type:"button"}}),a("button",{staticClass:"navbar-toggler aside-menu-toggler d-lg-none",attrs:{type:"button"}})])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler sidebar-toggler d-lg-none mr-auto",attrs:{type:"button","data-toggle":"sidebar-show"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[a("img",{staticClass:"navbar-brand-full",attrs:{width:"120",height:"40",src:"/img/logo_b.png",alt:"노원구청 로고"}}),a("img",{staticClass:"navbar-brand-minimized",attrs:{src:"/img/logo.png",width:"40",height:"40",alt:"노원구청 로고"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler sidebar-toggler d-md-down-none",attrs:{type:"button","data-toggle":"sidebar-lg-show"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown-header text-center"},[a("strong",[t._v("계정")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown-header text-center"},[a("strong",[t._v("설정")])])}],p=a("e315"),h={"0000":{routePath:"/"},1e3:{routePath:"/noti"},1001:{routePath:"/noti"},1002:{routePath:"/noti/add"},1003:{routePath:"/noti/search"},2e3:{routePath:"/promotion"},2001:{routePath:"/promotion"},2002:{routePath:"/promotion/add"},2003:{routePath:"/promotion/search"},2004:{routePath:"/promotion/template"},3e3:{routePath:"/contents"},3001:{routePath:"/contents"},4e3:{routePath:"/organization"},4001:{routePath:"/organization"},5e3:{routePath:"/office"},5001:{routePath:"/office"},6e3:{routePath:"/user"},6001:{routePath:"/user"},6002:{routePath:"/user/setting"},6003:{routePath:"/user/reqestPermission"},7e3:{routePath:"/client"},7001:{routePath:"/client"},7002:{routePath:"/client/dboard"},7003:{routePath:"/client/schedule"},8e3:{routePath:"/system/log"},8001:{routePath:"/system/log"},8002:{routePath:"/system/statistics"},8003:{routePath:"/system/monitor"},8004:{routePath:"/system/notification"}},m={name:"header",data:function(){return{menu:[],userId:""}},methods:{selectMenu:function(t){t&&this.$store.dispatch("menu/selectMenu",t)},menuMap:function(t){return function t(e){var a=this,s=[];if(!Array.isArray(e))throw new Error("전달된 메뉴 정보가 Array 타입이 아닙니다. (menu : "+e+")");return e.forEach(function(e){h[e.menuCode]?(e.routePath=h[e.menuCode].routePath,Array.isArray(e.subMenu)&&(e.subMenu=t.call(a,e.subMenu)),s.push(e)):a.$log.warn("메뉴 정보와 매핑되는 라우팅 정보가 없습니다. (menuCode : "+e.menuCode+", menuMap : "+JSON.stringify(h,null,"\t")+")")}),s}.call(this,t)},getNotificationCount:function(){return 0},goNotification:function(){var t="/system/notification";this.$log.debug("알림내역 페이지로 이동"),this.$router.push({path:t,query:{}})},goMyInfo:function(){var t="/user/setting";this.$log.debug("계정 정보 페이지로 이동 : ",this.userId),this.$router.push({path:t,query:{user:[{userId:this.userId}]}})},goLogout:function(){var t="/pages/login.html";confirm("로그 아웃 하시겠습니까?")&&(this.$log.debug("로그 아웃 => ",this.userId),location.href=t)},isSelectedMenu:function(t){var e=this;return this.$route.path===t.routePath||(t.subMenu&&t.subMenu.forEach(function(t,a){if(t.routePath===e.$route.path)return!0}),!1)}},created:function(){var t=this;this.$log.debug("request get menu",this.$store.getters["menu/selectedMenu"]),this.userId=sessionStorage.getItem("userId"),p["a"].menu.getMenu().then(function(e){t.$log.debug("success get menu ",e),t.menu=t.menuMap(e.data),t.selectMenu(t.menu[0]),t.$log.debug("request get menu!!",t.$store.getters["menu/selectedMenu"])}).catch(function(e){t.$log.error("failed get menu ",e),alert("서버로부터 메뉴를 가져오는 것을 실패했습니다.")})}},g=m,f=a("2877"),v=Object(f["a"])(g,d,u,!1,null,null,null),C=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-body"},[a("side-menu"),t.$store.getters["menu/isReload"]?t._e():a("router-view"),a("a-side-menu"),a("preview")],1)},b=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("nav",{staticClass:"sidebar-nav nav-pills"},[a("ul",{staticClass:"nav nav-pills bg-dark",staticStyle:{"min-height":"65%"}},t._l(t.subMenu,function(e){return null!==t.subMenu?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:t.$store.getters["menu/selectedSubMenu"].menuId===e.menuId},attrs:{to:e.routePath},nativeOn:{click:function(a){return t.selectMenu(e)}}},[a("i",{staticClass:"nav-icon icon-note"}),t._v("\n                    "+t._s(e.menuName)+"\n                ")])],1):t._e()}),0),a("div",{staticClass:"tab-pane active ",attrs:{id:"timeline",role:"tabpanel"}},[a("div",{staticClass:"tab-pane p-3",attrs:{id:"settings",role:"tabpanel"}},[t._m(0),t._m(1),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar bg-info",style:"width: "+t.systemResources.cpu.usage+"%",attrs:{role:"progressbar","aria-valuenow":"systemResources.cpu.usage","aria-valuemin":"0","aria-valuemax":"100"}})]),a("small",{staticClass:"text-muted"},[t._v(t._s(t.systemResources.cpu.usage)+"%")]),t._m(2),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar bg-warning",style:"width: "+t.systemResources.memory.usage+"%",attrs:{role:"progressbar","aria-valuenow":"systemResources.memory.usage","aria-valuemin":"0","aria-valuemax":"100"}})]),a("small",{staticClass:"text-muted"},[t._v(t._s(t.systemResources.memory.usage)+"%, "+t._s(t.systemResources.memory.used)+"/"+t._s(t.systemResources.memory.total)+" GB")]),t._m(3),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar bg-success",style:"width: "+t.systemResources.disk.usage+"%",attrs:{role:"progressbar","aria-valuenow":"systemResources.disk.usage","aria-valuemin":"0","aria-valuemax":"100"}})]),a("small",{staticClass:"text-muted"},[t._v(t._s(t.systemResources.disk.usage)+"%, "+t._s(t.systemResources.disk.used)+"/"+t._s(t.systemResources.disk.total)+" GB")])])])]),a("button",{staticClass:"sidebar-minimizer brand-minimizer",attrs:{type:"button"}})])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",[a("i",{staticClass:"nav-icon icon-graph"}),t._v("서버 상태 정보")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase mb-1 mt-4"},[a("small",[a("b",[t._v("CPU 사용")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("메모리 사용")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("디스크 D 사용")])])])}];function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(a,!0).forEach(function(e){T(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function T(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var E=Object(n["a"])("menu"),S=E.mapState,D=3e4,P={data:function(){return{systemResources:{os:{name:"windows"},cpu:{name:"CPU",cores:"4",usage:"0"},memory:{total:"0",usage:"0",used:"0"},disk:{total:"0",usage:"0",used:"0"},nic:{name:"Ethernet",speed:"1000"}}}},methods:{selectMenu:function(t){if(t){switch(!0){case"/promotion/add"===location.pathname&&"/promotion"===this.selectedSubMenu.routePath:case"/noti/add"===location.pathname&&"/noti"===this.selectedSubMenu.routePath:this.$store.dispatch("menu/reload");break}this.selectedSubMenu=t,this.$store.dispatch("menu/selectSubMenu",t)}},getSystemResources:function(){var t=this;this.$log.debug("getSystemResources -> "),p["a"].systemresource.getSystemResources().then(function(e){var a;if(200!==e.status)throw a=new Error(e.data.resultMsg),a.resultData=e.data,a;t.$log.debug("서버 시스템 정보 조회 성공 ",e.data),t.systemResources=e.data}).catch(function(e){t.$log.error("서버 시스템 정보 조회 실패 ",e),alert("서버 시스템 정보 조회에 실패했습니다.\n"+e.message)})}},computed:x({},S({title:function(t){return t.menu&&t.menu.displayName?t.menu.displayName:""},subMenu:function(t){var e=null;try{Array.isArray(t.menu.subMenu)?(e=t.menu.subMenu,this.selectMenu(e[0])):this.$log.warn("not Array state.menu.subMenu (state.menu.subMenu : "+t.menu.subMenu+")")}catch(a){this.$log.warn("not exist state.menu.subMenu")}finally{return e}}})),created:function(){var t=this;this.getSystemResources(),setInterval(function(){t.getSystemResources()},D)}},N=P,I=(a("7a8b"),Object(f["a"])(N,_,k,!1,null,null,null)),A=I.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"aside-menu"})},M=[],j={},L=j,Y=Object(f["a"])(L,O,M,!1,null,null,null),U=Y.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"vuemodal",staticClass:"modal fade",attrs:{id:"preview-modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{height:"650px"}},[a("div",{staticClass:"col"},[t.boardType===t.BOARD_TYPE.ANNOUNCE&&t.contents.length>0?a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"false"}},[a("ol",{staticClass:"carousel-indicators"},[a("span",{staticClass:"badge rounded-pill bg-warning"},[t._v(t._s(t.contents.length))]),t._l(t.contents,function(t,e){return a("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})],2),a("div",{staticClass:"carousel-inner"},t._l(t.contents,function(e){return a("div",{staticClass:"carousel-item",class:{active:e.isActive}},[a("img",{staticClass:"d-block w-100",attrs:{src:t.contentPath+"/"+e.fileName}})])}),0),t.boardType===t.BOARD_TYPE.ANNOUNCE&&t.contents.length>1?a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])]):t._e(),t.boardType===t.BOARD_TYPE.ANNOUNCE&&t.contents.length>1?a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])]):t._e()]):t.boardType===t.BOARD_TYPE.PROMOTION&&t.contentType===t.CONTENT_TYPE[0].value?a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"false"}},[a("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{display:"block",width:"100%",height:"auto","max-height":"660px"},attrs:{src:t.contentPath}})]):t.boardType===t.BOARD_TYPE.PROMOTION&&t.contentType===t.CONTENT_TYPE[1].value?a("div",{staticClass:"col-6 carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"false"}},[a("video",{ref:"vuevideo",staticClass:"d-block embed-responsive embed-responsive-16by9",staticStyle:{display:"block",width:"410px",height:"auto"},attrs:{id:"previewVideo",src:t.contentPath,controls:"",autoplay:"",loop:""}})]):t.boardType===t.BOARD_TYPE.PROMOTION&&t.contentType===t.CONTENT_TYPE[2].value?a("div",{staticClass:"col-6 carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"false"}},[a("div",{staticClass:"row col",staticStyle:{display:"block",width:"410px",height:"610px"}},[t._v(t._s(t.contentPath))])]):t.boardType===t.BOARD_TYPE.PROMOTION&&t.contentType===t.CONTENT_TYPE[3].value?a("div",{staticClass:"col-6 carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"false"}},[a("iframe",{staticStyle:{display:"block",width:"410px",height:"610px"},attrs:{src:t.contentPath}})]):t._e()])])]),t._m(1)])])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("닫기")])])}],H={ANNOUNCE:"001",PROMOTION:"002"},F=a("729e");function B(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?B(a,!0).forEach(function(e){z(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var W=Object(n["a"])("preview"),V=W.mapState,J={data:function(){return{BOARD_TYPE:H,CONTENT_TYPE:F["a"]}},created:function(){},computed:G({},V({title:function(t){return t.title},contentPath:function(t){if(this.boardType===H.ANNOUNCE);else if(this.$log.debug("preview::contentPath() : contentPath -> ",t.contentPath),this.$log.debug("preview::contentPath() : contentPath -> ",t.contentPath.indexOf("?")),this.contentType===F["a"][0].value&&-1==t.contentPath.indexOf("?")){var e=new Date;t.contentPath=t.contentPath+"?"+e.getTime(),this.$log.debug("preview::contentPath() : contentPath -> add time ",t.contentPath)}return t.contentPath},contents:function(t){var e=this;return t.contents.forEach(function(t,a){if(t.isActive=0===a,e.$log.debug("preview::contents (state) called : contentName ",t.fileName),e.boardType===H.ANNOUNCE){e.$log.debug("preview::contents (state) : contentName ",t.fileName);var s=new Date;t.fileName=t.fileName+"?"+s.getTime(),e.$log.debug("preview::contents (state) : contentName -> add time ",t.fileName)}}),t.contents},boardType:function(t){return t.boardType},contentType:function(t){return t.contentType}})),methods:{doSomethingOnHidden:function(){console.log("modal closed ",this.$store),this.$store.dispatch("preview/clear"),$(this).removeData("bs.modal"),$(this).data("modal",null)}},mounted:function(){$(this.$refs.vuemodal).on("hide.bs.modal",this.doSomethingOnHidden)}},K=J,Q=(a("89d3"),Object(f["a"])(K,R,q,!1,null,null,null)),X=Q.exports,Z={name:"app",components:{SideMenu:A,ASideMenu:U,Preview:X}},tt=Z,et=(a("7f0a"),Object(f["a"])(tt,y,b,!1,null,null,null)),at=et.exports,st=a("8c4f"),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow-sm p-1 mb-2 bg-dark rounded"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-screen-desktop"}),a("strong",[t._v("클라이언트정보")]),a("div",{staticClass:"card-header-actions"},[a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"card-header-action btn-setting",attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"icon-settings"})]),t._m(1)])]),a("div",{staticClass:"card-body",attrs:{id:"clientInfoBody"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"c-callout c-callout-info"},[a("small",{staticClass:"text-muted"},[t._v("총 클라이언트 개수")]),a("div",{staticClass:"text-value-lg"},[t._v(t._s(t.clientInfo.totalCount))])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"c-callout c-callout-success"},[a("small",{staticClass:"text-muted"},[t._v("동작중")]),a("div",{staticClass:"text-value-lg"},[t._v(t._s(t.clientInfo.workCount))])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"c-callout c-callout-warning"},[a("small",{staticClass:"text-muted"},[t._v("중지")]),a("div",{staticClass:"text-value-lg"},[t._v(t._s(t.clientInfo.stopCount))])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"c-callout c-callout-danger"},[a("small",{staticClass:"text-muted"},[t._v("동작안함")]),a("div",{staticClass:"text-value-lg"},[t._v(t._s(t.clientInfo.errorCount))])])])]),a("div",{staticClass:"row"},t._l(t.clientInfo.clients,function(e){return a("div",{staticClass:"col-sm-6 col-md-4"},[a("div",{staticClass:"card",class:t.getStatusCardType(e)},[a("div",{staticClass:"card-header"},[t._v(t._s(e.clientName)+"\n\t\t\t\t\t\t\t\t\t\t\t"),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-setting",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.goClientManagement()}}},[a("i",{staticClass:"icon-arrow-right-circle"})])])]),a("div",{staticClass:"card-body",staticStyle:{padding:"0.2rem 0.8rem"}},[a("div",{staticClass:"form-group row mb-0"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v("동작여부")]),a("div",{staticClass:"col-md-7",staticStyle:{padding:"0"}},[a("label",{staticClass:"col-md2 col-form-label font-weight-bold",class:t.getStatusTextType(e),staticStyle:{"padding-left":"0"}},[t._v(t._s(t.getStatusDisplayName(e)))])])]),a("div",{staticClass:"form-group row mb-0"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v("설치장소")]),a("div",{staticClass:"col-md-7",staticStyle:{padding:"0"}},[a("label",{staticClass:"col-md2 col-form-label"},[t._v(t._s(e.organName))])])]),a("div",{staticClass:"row"},[a("table",{staticStyle:{border:"1px solid #fff",width:"90%",margin:"0 auto","border-collapse":"collapse","text-align":"center",height:"100px"}},[a("tr",t._l(e.boards,function(e){return a("td",{class:t.getBoardStausTextType(e),staticStyle:{border:"1px solid #fff"}},[t._v(t._s(t.getBoardTypeName(e)))])}),0)]),a("div",{staticClass:"tab-pane p-3 w-100",attrs:{id:"settings",role:"tabpanel"}},[t._m(2,!0),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar bg-success",style:"width: "+e.cpu+"%",attrs:{role:"progressbar","aria-valuenow":"client.cpu","aria-valuemin":"0","aria-valuemax":"100"}})]),a("small",{staticClass:"text-muted"},[t._v(t._s(e.cpu)+"%")]),t._m(3,!0),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar bg-danger",style:"width: "+e.memory+"%",attrs:{role:"progressbar","aria-valuenow":"client.memory","aria-valuemin":"0","aria-valuemax":"100"}})]),a("small",{staticClass:"text-muted"},[t._v(t._s(e.memory)+"%")])])])])])])}),0)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow-sm p-1 mb-2 bg-dark rounded"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-bell"}),a("strong",[t._v("중요 알림")]),a("div",{staticClass:"card-header-actions"},[a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"card-header-action btn-setting",attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"icon-settings"})]),t._m(4)])]),a("div",{staticClass:"card-body",attrs:{id:"NotiBody"}},[a("table",{staticClass:"table table-responsive-sm table-striped"},[t._m(5),a("tbody",t._l(t.clientInfo.logInfo,function(e){return a("tr",[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.content))]),a("td",{staticClass:"text-dannger"},[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.createDate))])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchLog}})],1)])])])])])},it=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"/"}},[a("i",{staticClass:"icon-home"},[t._v(" 홈")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#clientInfoBody","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase mb-1 mt-4"},[a("small",[a("b",[t._v("CPU")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("메모리")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#NotiBody","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("항목")]),a("th",[t._v("내용")]),a("th",[t._v("구분")]),a("th",[t._v("날짜")])])])}],rt={INACTIVE:{displayName:"비활성화",value:0},ACTIVE:{displayName:"활성화",value:1},PLAY:{displayName:"재생",value:2},STOP:{displayName:"중지",value:3},ERROR:{displayName:"에러",value:-1}},ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",on:{click:function(e){return t.selectPage(t.pagination.pageNum-1)}}},[t._v("Prev")])]),t._l(t.totalPage,function(e){return a("li",{staticClass:"page-item",class:{active:t.pagination.pageNum===e}},[a("a",{staticClass:"page-link",on:{click:function(a){return t.selectPage(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",on:{click:function(e){return t.selectPage(t.pagination.pageNum+1)}}},[t._v("Next")])])],2)},ct=[],lt={props:{pagination:{type:Object,require:!0}},methods:{selectPage:function(t){1<=t&&t<=this.totalPage&&this.$emit("selectPage",t)},updatePagination:function(t){t&&("number"===typeof t.pageNum&&(this.pagination.pageNum=t.pageNum),"number"===typeof t.pageCount&&(this.pagination.pageCount=t.pageCount),"number"===typeof t.totalCount&&(this.pagination.totalCount=t.totalCount))}},computed:{totalPage:function(){return Math.ceil(this.pagination.totalCount/this.pagination.pageCount)}},mounted:function(){this.selectPage(this.pagination.pageNum)}},dt=lt,ut=Object(f["a"])(dt,ot,ct,!1,null,null,null),pt=ut.exports,ht=15e3,mt="/client",gt={components:{Pagination:pt},data:function(){return{pagination:{pageNum:1,pageCount:10,totalCount:1},autoUpdateInterval:null,clientInfo:{}}},created:function(){var t=this;this.getDashboardInfo(),this.autoUpdateInterval=setInterval(function(){t.getDashboardInfo()},ht)},destroyed:function(){clearInterval(this.autoUpdateInterval),this.autoUpdateInterval=null},methods:{getDashboardInfo:function(){var t=this;p["a"].dashboard.getDashboard().then(function(e){var a;if(200!==e.data.result)throw a=new Error(e.data.resultMsg),a.resultData=e.data,a;t.$log.debug("대시보드 정보 조회 성공 ",e.data),t.clientInfo=e.data.clientInfo}).catch(function(e){t.$log.error("대시보드 정보 조회 실패 ",e),alert("대시보드 정보 조회에 실패했습니다.\n"+e.message)})},getStatusCardType:function(t){return t.status==rt.INACTIVE.value?"card-accent-secondary":t.status==rt.ACTIVE.value?"card-accent-primary":t.status==rt.PLAY.value?"card-accent-success":t.status==rt.STOP.value?"card-accent-warning":t.status==rt.ERROR.value?"card-accent-danger":void 0},getStatusTextType:function(t){return t.status==rt.INACTIVE.value?"text-secondary":t.status==rt.ACTIVE.value?"text-primary":t.status==rt.PLAY.value?"text-success":t.status==rt.STOP.value?"text-warning":t.status==rt.ERROR.value?"text-danger":void 0},getStatusDisplayName:function(t){var e=Object.keys(rt).find(function(e){return rt[e].value===t.status});return e?rt[e].displayName:""},getBoardStausTextType:function(t){switch(t.activeYn){case"Y":return"text-success";case"N":return"text-secondary"}},getBoardTypeName:function(t){switch(t.boardType){case H.ANNOUNCE:return"공";case H.PROMOTION:return"홍"}},goClientManagement:function(){this.$log.debug("클라이언트 관리 페이지로 이동"),this.$router.push({path:mt,query:{}})},searchLog:function(){}}},ft=gt,vt=Object(f["a"])(ft,nt,it,!1,null,null,null),Ct=vt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("noti-list")],1)])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("공고문 관리")])])}],_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n        공고문 목록\n        "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.pagination.totalCount))])]),a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var a=t.allChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allChecked=a.concat([i])):r>-1&&(t.allChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allChecked=n}}})]),a("th",[t._v("공고문명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.title)+"-circle sort-icon",style:"title"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("title")}}})])]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        게시시작일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingStart)+"-circle sort-icon",style:"postingStart"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingStart")}}})])]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        게시종료일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingEnd)+"-circle sort-icon",style:"postingEnd"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingEnd")}}})])]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        게시위치\n                        ")]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        중요도\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.priority)+"-circle sort-icon",style:"priority"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("priority")}}})])]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        장수\n                        ")]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        게시자\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.publisher)+"-circlesort-icon",style:"publisher"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("publisher")}}})])]),a("th",{attrs:{"aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        태그\n                        ")]),a("th",{attrs:{colspan:"2","aria-label":"Status: activate to sort column ascending"}},[t._v("\n                        원본파일명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.originFile)+"-circle sort-icon",style:"originFile"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("originFile")}}})])])])]),a("tbody",t._l(t.notiList,function(e){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"noti.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)}}})]),a("td",[a("a",{staticClass:"btn btn-ghost-normal mr-1 text-primary",class:e.remainDay<0?"text-secondary":"",attrs:{title:"생성일: "+e.createDate,"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{staticClass:"fa fa-file-pdf-o",staticStyle:{"padding-right":"3px",color:"primary"}}),a("strong",[t._v(" "+t._s(e.title)+" ")])])]),a("td",{class:e.remainDay<0?"text-secondary":""},[a("i",{staticClass:"fa fa-calendar-check-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingStart))+"\n                      ")]),a("td",{class:e.remainDay<0?"text-secondary":""},[a("i",{staticClass:"fa fa-calendar-times-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingEnd))+"\n                    ")]),a("td",[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-ghost-info dropdown-toggle col-offset-6",attrs:{id:"alllocations",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(e.location&&e.location[0]?e.location[0].name:""))]),a("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, -356px, 0px)"},attrs:{"x-placement":"top-start"}},[a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"4",placeholder:"게시위치",readonly:""}},[t._v(t._s(t.getLocationDisplay(e)))])])])]),a("td",{style:"1"==e.priority?"color: red;":""},[t._v(t._s(t.getPriority(e.priority)))]),a("td",[a("a",{staticClass:"btn btn-ghost-normal mr-1",attrs:{"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{class:1==e.contents.length?"fa fa-file-o":"fa fa-files-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                        "+t._s(e.contents.length)+"\n                      ")]),e.contents.length>0&&e.contents[0].ttsInfo.length>0?a("i",{staticClass:"icon-speech",staticStyle:{"padding-right":"3px",color:"green"}}):t._e()]),a("td",[t._v(t._s(e.publisher))]),a("td",[a("i",{staticClass:"fa fa-hashtag",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(e.tags)+"\n                    ")]),a("td",{staticStyle:{color:"orange"}},[t._v(t._s(e.originFile))]),a("td",[a("a",{staticClass:"btn btn-success mr-1",attrs:{"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{staticClass:"fa fa-search-plus"})]),a("a",{staticClass:"btn btn-info mr-1",on:{click:function(a){return t.updateNoti(e)}}},[a("i",{staticClass:"fa fa-edit"})]),a("a",{staticClass:"btn btn-danger mr-1",on:{click:function(a){return t.delOneContent(e)}}},[a("i",{staticClass:"fa fa-trash-o"})])])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchNoti}}),a("div",[a("button",{staticClass:"btn btn-danger btn-delete",staticStyle:{"margin-right":"1rem",width:"77px"},on:{click:t.removeNoti}},[t._v("삭제")]),t.addButton?a("button",{staticClass:"btn btn-primary btn-pill btn-sm",staticStyle:{width:"77px"},on:{click:t.addNoti}},[t._v("등록")]):t._e()])],1)])])},kt=[],wt=a("b279"),xt={ASCE:"asc",DESC:"desc"},Tt="notiAdd",Et="/noti/update";$(function(){$('[data-toggle="tooltip"]').tooltip()});var St={components:{Pagination:pt},data:function(){return{allChecked:!1,pagination:{pageNum:1,pageCount:10,totalCount:1},sorting:{title:xt.DESC,postingStart:xt.DESC,postingEnd:xt.DESC,priority:xt.DESC,publisher:xt.DESC,originFile:xt.DESC,reqSortingCol:"",reqSortingType:xt.DESC},notiList:[]}},watch:{allChecked:function(t){this.notiList.forEach(function(e){e.checked=t})}},props:{addButton:{type:Boolean,default:!0,required:!1},searchCondition:{type:Object,default:null,required:!1}},computed:{locationDisplay:function(){return this.location.map(function(t){return noti.location.name}).join(",")}},methods:{getLocationDisplay:function(t){return t.location.map(function(t){return t.name}).join(",")},delOneContent:function(t){var e,a=this;confirm("해당 컨텐츠를 삭제하시겠습니까?")?(e=[t.contentId],p["a"].noti.removeNoti(e).then(function(t){200===t.data.result?(confirm("선택한 컨텐츠 한개를 삭제했습니다."),a.searchNoti(1)):(a.$log.error("컨텐츠 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){a.$log.error("컨텐츠 삭제를 실패했습니다. err :",t),alert("컨텐츠 삭제를 실패했습니다.\n("+t.message+")")})):this.$log.debug("컨텐츠 삭제 안함")},removeNoti:function(){var t,e=this;t=this.notiList.reduce(function(t,e){return e.checked&&t.push(e.contentId),t},[]),t.length<1?alert("선택된 것이 없습니다."):confirm("선택한 공고문을 삭제하시겠습니까?")&&(this.$log.debug("deleteNoti deleteContentList :",t),p["a"].noti.removeNoti(t).then(function(t){200===t.data.result?(confirm("선택한 공고문을 삭제했습니다."),e.searchNoti(1)):(e.$log.error("공고문 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){e.$log.error("공고문 삭제를 실패했습니다. err :",t),alert("공고문 삭제를 실패했습니다.\n("+t.message+")")}))},addNoti:function(){this.$log.debug("공고문 올리기 페이지 이동"),this.$router.push({name:Tt})},updateNoti:function(t){this.$log.debug("공고문 수정 페이지로 이동",t),this.$router.push({path:Et,query:{contentId:t.contentId}})},searchNoti:function(t){var e=this;this.$log.debug("searchNoti ",this.$refs.pagination);var a={pageNum:t,pageCount:this.pagination.pageCount,sortingCol:this.sorting.reqSortingCol,sortingType:this.sorting.reqSortingType};this.searchCondition&&(a=Object.assign(a,this.searchCondition.startDate?{startDate:this.searchCondition.startDate}:{},this.searchCondition.endDate?{endDate:this.searchCondition.endDate}:{},this.searchCondition.title?{title:this.searchCondition.title}:{},this.searchCondition.tags?{tags:this.searchCondition.tags}:{})),p["a"].noti.searchNoti(a).then(function(a){e.$log.debug("sccess get noti list ",a),200===a.data.result?(e.notiList=a.data.list.map(function(t){return t.checked=!1,t}),e.$refs.pagination.updatePagination({pageNum:t,totalCount:a.data.totalCount})):alert(a.data.resultMsg)}).catch(function(t){alert("공고문 목록을 조회 해오는 것을 실패했습니다.\n("+t.message+")")})},getSortingClass:function(t){var e;switch(t){case xt.DESC:e="down";break;case xt.ASCE:default:e="up"}return e},changeSorting:function(t){this.sorting[t]=this.sorting[t]===xt.ASCE?xt.DESC:xt.ASCE,this.sorting.reqSortingCol=t,this.sorting.reqSortingType=this.sorting[t],this.searchNoti(this.pagination.pageNum)},getPriority:function(t){var e="일반";switch(t){case 1:e="중요";break}return e},dateToFormat:function(t){return wt["a"].date.dateToFormat(t)},openPreviewModal:function(t){this.$log.debug("openPreviewModal ",t);new Date;this.$store.dispatch("preview/setData",{title:"공고문 미리보기 : "+t.title,contentPath:t.contentPath,contents:t.contents,boardType:H.ANNOUNCE})}}},Dt=St,$t=(a("120d"),Object(f["a"])(Dt,_t,kt,!1,null,null,null)),Pt=$t.exports,Nt={components:{NotiList:Pt}},It=Nt,At=Object(f["a"])(It,yt,bt,!1,null,null,null),Ot=At.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"collapse show",attrs:{id:"searchArea"}},[a("div",{staticClass:"card-body"},[t._m(2),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                제목\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.title,expression:"searchCondition.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.searchCondition.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchNoti(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"title",e.target.value)}}})])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                태그\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.tags,expression:"searchCondition.tags"}],staticClass:"form-control",attrs:{type:"text",placeholder:"#공고문"},domProps:{value:t.searchCondition.tags},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchNoti(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"tags",e.target.value)}}})])]),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"100px","margin-left":"10px"},on:{click:t.searchNoti}},[a("i",{staticClass:"fa fa-search"}),t._v("\n                  검색\n                ")])])])])])]),a("noti-list",{ref:"notiList",attrs:{"add-button":!1,"search-condition":t.searchCondition}})],1)])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("공고문 검색")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("검색 조건")]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#searchArea","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                게시날짜\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-hashtag"})])])}],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("vuejs-datepicker",{staticStyle:{color:"black"},attrs:{"input-class":"form-control","wrapper-class":t.startDateWrapperClass,placeholder:t.startDatePlaceholder,format:t.dateFormat,"disabled-dates":t.startDateDisabledDates},on:{selected:t.selectStartDate},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v("\n    ~\n    "),a("vuejs-datepicker",{staticStyle:{color:"black"},attrs:{"input-class":"form-control","wrapper-class":t.endDateWrapperClass,placeholder:t.endDatePlaceholder,format:t.dateFormat,"disabled-dates":t.endDateDisabledDates},on:{selected:t.selectEndDate},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)},Yt=[],Ut=a("fa33"),Rt={data:function(){return{startDate:null,endDate:null,startDateDisabledDates:{from:null},endDateDisabledDates:{to:null}}},props:{startDatePlaceholder:{type:String,required:!1,default:"시작일"},endDatePlaceholder:{type:String,required:!1,default:"종료일"},dateFormat:{type:String,required:!1,default:"yyyy.MM.dd"},startDateWrapperClass:{type:String,required:!1,default:"col-3"},endDateWrapperClass:{type:String,required:!1,default:"col-3"}},components:{vuejsDatepicker:Ut["a"]},methods:{selectStartDate:function(t){this.endDateDisabledDates.to=t,this.$emit("selectStartDate",t)},selectEndDate:function(t){this.startDateDisabledDates.from=t,this.$emit("selectEndDate",t)}}},qt=Rt,Ht=Object(f["a"])(qt,Lt,Yt,!1,null,null,null),Ft=Ht.exports,Bt=a("2699");function Gt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var zt=Gt({data:function(){return{searchCondition:{startDate:Bt["a"].toFormat("YYYYMMDD000000"),endDate:Bt["a"].toFormat("YYYYMMDD235959"),title:"",tags:""}}},components:{LinkedDatePicker:Ft,NotiList:Pt},props:{},mounted:function(){this.$log.debug("!@#!# ",$('input[name="daterange"]')),$('input[name="daterange"]').daterangepicker()},methods:{searchNoti:function(){this.$refs.notiList.searchNoti(1)}}},"mounted",function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}};e.ranges={"오늘 날짜":[moment(),moment()]},$('input[name="daterange"]').daterangepicker(e,function(e,a,s){t.searchCondition.startDate=e.format("YYYYMMDD000000"),t.searchCondition.endDate=a.format("YYYYMMDD235959")})}),Wt=zt,Vt=Object(f["a"])(Wt,Mt,jt,!1,null,null,null),Jt=Vt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.viewTitle))])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("공고문")]),a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},on:{click:t.goPrev}},[a("i",{staticClass:"icon-action-undo"}),t._v("\n              이전 페이지로 돌아가기\n            ")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("제목")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("공고문")]),a("div",{staticClass:"input-group"},[t._m(1),a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"customFile",accept:".pdf"},on:{change:function(e){return t.handleFileUpload()}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v(t._s(t.fileName))])])])])]),t._m(2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시 위치")]),a("span",{staticStyle:{"padding-left":"3em"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isAllSelectLocation,expression:"isAllSelectLocation"}],staticClass:"form-check-input",attrs:{id:"check1",type:"checkbox"},domProps:{checked:Array.isArray(t.isAllSelectLocation)?t._i(t.isAllSelectLocation,null)>-1:t.isAllSelectLocation},on:{change:function(e){var a=t.isAllSelectLocation,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.isAllSelectLocation=a.concat([i])):r>-1&&(t.isAllSelectLocation=a.slice(0,r).concat(a.slice(r+1)))}else t.isAllSelectLocation=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("할당된 모든 지점")])]),a("div",{staticClass:"input-group"},[t._m(3),a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"9",placeholder:"게시위치",readonly:""}},[t._v(t._s(t.locationDisplay))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-7"},[a("label",{attrs:{for:"city"}},[t._v("게시완료 파일")]),a("div",{staticClass:"col-md-9 col-form-label"},[a("div",{staticClass:"form-check form-check-inline mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delExpired,expression:"delExpired"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isSave",value:"Y"},domProps:{checked:t._q(t.delExpired,"Y")},on:{change:function(e){t.delExpired="Y"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("삭제")])]),a("div",{staticClass:"form-check form-check-inline mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delExpired,expression:"delExpired"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isSave",value:"N"},domProps:{checked:t._q(t.delExpired,"N")},on:{change:function(e){t.delExpired="N"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check2"}},[t._v("유지")])])])]),a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"postal-code"}},[t._v("중요도")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.priority,expression:"priority"}],staticClass:"form-control",attrs:{id:"select1",name:"select1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.priority=e.target.multiple?a:a[0]}}},t._l(t.priorities,function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.displayName))])}),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("태그")]),a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"text",placeholder:"#공고문"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9"},[t.uploadPercentage>0?a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+t.uploadPercentage+"%",attrs:{role:"progressbar","aria-valuenow":t.uploadPercentage,"aria-valuemin":"0","aria-valuemax":"100"}})]):t._e()]),a("div",{staticClass:"col-sm-3"},[t.isUpdate?a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{disabled:1==t.isUploading},on:{click:t.updateNoti}},[a("i",{staticClass:"fa fa-eraser"}),t._v("\n                                  공고문 수정\n                                ")]):a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{disabled:1==t.isUploading},on:{click:t.addNoti}},[a("i",{staticClass:"fa fa-cloud-upload"}),t._v("\n                                  공고문 올리기\n                                ")])])])])])]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"card"},[t._m(5),a("div",{staticClass:"card-body"},[a("div",{staticStyle:{height:"713px"}},[t.contents.length>0?a("div",{staticClass:"carousel slide",attrs:{id:"carouselContentIndicators","data-ride":"carousel","data-interval":"false"}},[a("ol",{staticClass:"carousel-indicators"},[a("span",{staticClass:"badge rounded-pill bg-warning"},[t._v(t._s(t.contents.length))]),t._l(t.contents,function(t,e){return a("li",{attrs:{"data-target":"#carouselContentIndicators","data-slide-to":e}})})],2),a("div",{staticClass:"carousel-inner"},t._l(t.contents,function(e){return a("div",{staticClass:"carousel-item",class:{active:e.isActive}},[e.ttsInfo.length>0?a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"300px"},on:{click:function(a){return t.textToSpeech(e)}}},[a("i",{staticClass:"icon-speech",staticStyle:{"padding-right":"10px"}},[t._v(" 읽어주기\n                      ")])]):t._e(),a("img",{staticClass:"img-fluid",staticStyle:{display:"block"},attrs:{src:e.contentImgPath}})])}),0),t.contents.length>1?a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselContentIndicators",role:"button","data-slide":"prev"},on:{click:t.actionPrevNext}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])]):t._e(),t.contents.length>1?a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselContentIndicators",role:"button","data-slide":"next"},on:{click:t.actionPrevNext}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])]):t._e()]):t._e()])])])])])])])},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시날짜")]),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text",autocomplete:"off"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-sitemap"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-hashtag"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v(" 공고문 미리보기")])])}],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("div",{class:{bold:t.isFolder},on:{click:t.toggle}},[t.isArrow&&t.isFolder?a("span",{staticClass:"pic",class:"arrow-"+(t.open?"down":"right")}):t._e(),t.isCheckbox?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.checked,expression:"model.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.model.checked)?t._i(t.model.checked,null)>-1:t.model.checked},on:{change:[function(e){var a=t.model.checked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.model,"checked",a.concat([i])):r>-1&&t.$set(t.model,"checked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.model,"checked",n)},t.checkModel]}}):t._e(),t._v("\n        "+t._s(t.getDisplayName(t.model))+"\n    ")]),t.isFolder?a("ul",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},t._l(t.model.children,function(e){return a("tree-list",{staticClass:"item",attrs:{"is-checkbox":t.isCheckbox,"is-arrow":t.isArrow,"make-display-name":t.makeDisplayName,model:e},on:{selectedItem:t.selected,checkItem:t.checkBind}})}),1):t._e()])},Zt=[],te={name:"tree-list",props:{model:Object,makeDisplayName:{type:Function,require:!1,default:null},isCheckbox:{type:Boolean,require:!1,default:!1},isArrow:{type:Boolean,require:!1,default:!1}},data:function(){return{open:!1}},computed:{isFolder:function(){return this.model.children&&this.model.children.length}},methods:{toggle:function(){this.isFolder&&(this.open=!this.open),this.$emit("selectedItem",this.model,this.isFolder)},selected:function(t){this.$emit("selectedItem",t)},getDisplayName:function(t){var e=t.name;return"function"===typeof this.makeDisplayName&&(e=this.makeDisplayName(t)),e},checkModel:function(){this.$emit("checkItem",this.model,this.model.checked)},checkBind:function(t,e){this.$emit("checkItem",t,e)}},created:function(){}},ee=te,ae=(a("1a2f"),Object(f["a"])(ee,Xt,Zt,!1,null,null,null)),se=ae.exports;function ne(t){return oe(t)||re(t)||ie()}function ie(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function re(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function oe(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var ce=[{displayName:"일반",value:0},{displayName:"중요",value:1}],le={data:function(){return{isAllSelectLocation:!0,viewTitle:"공고문 등록",priorities:ce,file:null,modifyfile:null,uploadPercentage:0,contentPath:"",contents:[],locations:{checked:!1,name:"할당된 모든 지점",children:[]},isUploading:!1,isUpdate:!1,title:"",postingStart:null,postingEnd:null,location:[],tags:"#공고문",delExpired:"Y",priority:ce[0].value,prevRoute:null,dates:""}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},watch:{isAllSelectLocation:function(t){var e;(this.$log.debug("isAllSelectLocation :  ",t),t)?(this.locations.children.forEach(function(t){return t.checked=!0}),this.location.splice(0,this.location.length),(e=this.location).splice.apply(e,[0,0].concat(ne(this.locations.children)))):(this.locations.children.forEach(function(t){return t.checked=!1}),this.location.splice(0,this.location.length))},"locations.checked":function(t,e){var a;(this.$log.debug("locations.checked ",t),t)?(this.locations.children.forEach(function(t){return t.checked=!0}),this.location.splice(0,this.location.length),(a=this.location).splice.apply(a,[0,0].concat(ne(this.locations.children)))):(this.locations.children.forEach(function(t){return t.checked=!1}),this.location.splice(0,this.location.length))}},props:{contentId:{type:String,default:null,required:!1}},created:function(){var t=this;this.$log.debug("notice contentId ",this.$route.query.contentId,this.$route);var e=[p["a"].organ.getAllowedLocation().then(function(e){if(t.$log.debug("get allowed location ",e),200!==e.data.result)throw new Error(e.data.resultMsg);var a;return e.data.list.forEach(function(t){t.checked=!1}),(a=t.locations.children).splice.apply(a,[0,0].concat(ne(e.data.list))),e.data}).catch(function(t){throw new Error("공고문 게시 위치를 조회하는 것을 실패했습니다.\n("+t.message+")")})];this.$route.query.contentId&&(this.isUpdate=!0,this.viewTitle="공고문 수정",this.isAllSelectLocation=!1,e.push(p["a"].noti.searchNotiDetail(this.$route.query.contentId).then(function(e){if(200!==e.data.result)throw new Error(e.data.resultMsg);return t.$log.info("공고문 조회 성공 ",e),t.title=e.data.data.title,t.modifyfile=e.data.data.originFile,t.postingStart=e.data.data.postingStart+"000000",t.postingEnd=e.data.data.postingEnd+"000000",$('input[name="daterange"]').data("daterangepicker").setStartDate(wt["a"].date.toDate(e.data.data.postingStart)),$('input[name="daterange"]').data("daterangepicker").setEndDate(wt["a"].date.toDate(e.data.data.postingEnd)),$('input[name="daterange"]').val(wt["a"].date.toFormat(wt["a"].date.toDate(e.data.data.postingStart),"YYYY.MM.DD")+" - "+wt["a"].date.toFormat(wt["a"].date.toDate(e.data.data.postingEnd),"YYYY.MM.DD")),t.location=e.data.data.location?e.data.data.location:[],t.tags=e.data.data.tags,t.delExpired=e.data.data.delExpired,t.priority=e.data.data.priority,t.contents=e.data.data.contents,t.contentPath=e.data.data.contentPath,t.contents.forEach(function(e,a){e.isActive=0===a;var s=new Date;e.contentImgPath=t.contentPath+"/"+e.fileName+"?"+s.getTime()}),e.data}).catch(function(e){throw t.$log.error("공고문 조회를 실패했습니다. err :",e),new Error("공고문 조회를 실패했습니다.\n("+e.message+")")}))),Promise.all(e).then(function(e){var a;0==t.isUpdate&&(t.$log.debug("신규등록이라서 할당된 모든 지점 추가함"),t.locations.children.forEach(function(t){return t.checked=!0}),t.location.splice(0,t.location.length),(a=t.location).splice.apply(a,[0,0].concat(ne(t.locations.children))));2===e.length&&(t.$log.debug("수정이라서 지정된 게시 위치 얻어옴"),Array.isArray(e[1].data.location)&&t.locations.children.forEach(function(a){e[1].data.location.some(function(e){if(e===a.organId)return a.checked=!0,t.$log.debug("NotiAdd -> created () -> location : ",e,a.organId,a.checked),!0})}),t.locations.children.length==e[1].data.location.length&&(t.isAllSelectLocation=!0,t.$log.debug("수정이지만 모든 지점 할당된 상태임")))}).catch(function(t){return alert(t.message)})},components:{LinkedDatePicker:Ft,TreeList:se},methods:{checkLocation:function(t,e){var a=this;this.$log.debug("checkLocation ",t,e),e?this.location.push(t):this.location.some(function(e,s){if(e.organId===t.organId)return a.location.splice(s,1),!0})},addNoti:function(){var t,e=this;""!==this.title?null!==this.file&&""!==this.file.name?null!==this.postingStart&&null!==this.postingEnd?(t=this.notiFormData,p["a"].noti.notiAdd(t,function(t){e.isUploading=!0,e.uploadPercentage=parseInt(Math.round(100*t.loaded/t.total))}).then(function(t){e.$log.debug("공고문 등록 요청 결과 ",t),e.isUploading=!1,200===t.data.result?(e.$log.info("공고문 등록 완료"),confirm("공고문 등록을 완료했습니다."),e.contents=t.data.contents,e.contentPath=t.data.contentPath,e.uploadPercentage=0,e.contents.forEach(function(t,a){t.isActive=0===a;var s=new Date;t.contentImgPath=e.contentPath+"/"+t.fileName+"?"+s.getTime()})):alert(t.data.resultMsg)}).catch(function(t){e.uploadPercentage=0,e.isUploading=!1,e.$log.error("공고문 등록 실패 %s",t.stack),alert("공고문 등록을 실패했습니다.\n("+t.message+")")})):alert("게시날짜를 선택하세요"):alert("공고문을 선택하세요"):alert("제목을 입력하세요")},updateNoti:function(){var t,e=this;""!==this.title?null!==this.postingStart&&null!==this.postingEnd?(t=this.notiFormData,p["a"].noti.updateNoti(this.$route.query.contentId,t,function(t){e.isUploading=!0,e.uploadPercentage=parseInt(Math.round(100*t.loaded/t.total))}).then(function(t){e.$log.debug("공고문 수정 요청 결과 ",t),e.isUploading=!1,200===t.data.result?(e.$log.info("공고문 수정 완료"),confirm("공고문 수정을 완료했습니다."),e.contents=t.data.contents,e.contentPath=t.data.contentPath,e.uploadPercentage=0,e.contents.forEach(function(t,a){t.isActive=0===a;var s=new Date;t.contentImgPath=e.contentPath+"/"+t.fileName+"?"+s.getTime()})):alert(t.data.resultMsg)}).catch(function(t){e.uploadPercentage=0,e.isUploading=!1,e.$log.error("공고문 수정 실패 %s",t.stack),alert("공고문 수정을 실패했습니다.\n("+t.message+")")})):alert("게시날짜를 선택하세요"):alert("제목을 입력하세요")},handleFileUpload:function(){this.$log.debug("handleFileUpload file : %s",this.$refs.file.files[0]),this.file=this.$refs.file.files[0]},selectPriority:function(t){this.priority=t},goPrev:function(){this.stopTTS(),this.$router.go(-1)},textToSpeech:function(t){this.$log.debug("[AnnounceDetail]textToSpeech : ",t.ttsInfo),responsiveVoice.speak(t.ttsInfo,"Korean Female")},stopTTS:function(){responsiveVoice.isPlaying()&&responsiveVoice.cancel()},actionPrevNext:function(){this.$log.debug("[NotiAdd]actionPrevNext"),responsiveVoice.isPlaying()&&this.stopTTS()}},computed:{fileName:function(){return this.$log.debug("file.name : ",this.file?this.file.name:""),this.$log.debug("modifyFile : ",this.modifyfile),this.file?this.file.name:this.modifyfile?this.modifyfile:"공고문을 선택하세요"},locationDisplay:function(){return this.location.map(function(t){return t.name}).join(",")},notiFormData:function(){var t=new FormData;return this.file&&t.append("file",this.file),t.append("title",this.title),t.append("postingStart",this.postingStart),t.append("postingEnd",this.postingEnd),t.append("priority",this.priority),t.append("tags",this.tags),t.append("location",this.location.map(function(t){return t.organId}).join(",")),t.append("delExpired",this.delExpired),t.append("contentInfo",""),t}},mounted:function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},autoUpdateInput:!1,ranges:{"오늘 날짜":[moment(),moment()]}};$('input[name="daterange"]').daterangepicker(e,function(t,e,a){}),$('input[name="daterange"]').on("apply.daterangepicker",function(e,a){t.$log.debug("appay.daterangepicker",a),$('input[name="daterange"]').val(a.startDate.format("YYYY.MM.DD")+" - "+a.endDate.format("YYYY.MM.DD")),t.postingStart=a.startDate.format("YYYYMMDD000000"),t.postingEnd=a.endDate.format("YYYYMMDD235959")}),$('input[name="daterange"]').on("cancel.daterangepicker",function(e,a){t.$log.debug("cancel.daterangepicker",a),$('input[name="daterange"]').val(""),t.postingStart=null,t.postingEnd=null})},destroyed:function(){this.stopTTS()}},de=le,ue=(a("b5d3"),Object(f["a"])(de,Kt,Qt,!1,null,null,null)),pe=ue.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("promotion-list",{attrs:{"display-contents-type-filter":""}})],1)])},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("홍보물 관리")])])}],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n        홍보물 컨텐츠 목록\n        "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.pagination.totalCount))]),t.displayContentsTypeFilter?a("div",{staticStyle:{display:"inline","padding-left":"5%"}},t._l(t.contentTypes,function(e){return a("span",{staticStyle:{"padding-left":"3rem"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"contentType.checked"}],staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)},function(a){return t.checkContentType(e,e.checked)}]}}),a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-left":"3px"}}),t._v("\n                "+t._s(e.displayName)+"\n            ")])}),0):t._e()]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var a=t.allChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allChecked=a.concat([i])):r>-1&&(t.allChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allChecked=n}}})]),a("th",[t._v("\n                        홍보물명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.title)+"-circle sort-icon",style:"title"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("title")}}})])]),a("th",[t._v("\n                        게시시작일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingStart)+"-circle sort-icon",style:"postingStart"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingStart")}}})])]),a("th",[t._v("\n                        게시종료일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingEnd)+"-circle sort-icon",style:"postingEnd"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingEnd")}}})])]),a("th",[t._v("\n                        게시위치\n                        ")]),a("th",[t._v("\n                        타입\n                        ")]),a("th",[t._v("\n                        게시자\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.publisher)+"-circlesort-icon",style:"publisher"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("publisher")}}})])]),a("th",[t._v("\n                        태그\n                        ")]),a("th",{attrs:{colspan:"2"}},[t._v("\n                        원본파일명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.originFile)+"-circle sort-icon",style:"originFile"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("originFile")}}})])])])]),a("tbody",t._l(t.promotionList,function(e){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"promotion.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)}}})]),a("td",[a("a",{staticClass:"btn btn-ghost-normal mr-1 text-primary",class:e.remainDay<0?"text-secondary":"",attrs:{title:"생성일: "+e.createDate,"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{class:t.getDisplayContentTypeIcon(e),staticStyle:{"padding-right":"3px",color:"primary"}}),a("strong",[t._v(t._s(e.title))])])]),a("td",{class:e.remainDay<0?"text-secondary":""},[a("i",{staticClass:"fa fa-calendar-check-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingStart))+"\n                    ")]),a("td",{class:e.remainDay<0?"text-secondary":""},[a("i",{staticClass:"fa fa-calendar-times-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingEnd))+"\n                    ")]),a("td",[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-ghost-primary dropdown-toggle col-offset-6",attrs:{id:"alllocations",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(e.location&&e.location[0]?e.location[0].name:""))]),a("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, -356px, 0px)"},attrs:{"x-placement":"top-start"}},[a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"4",placeholder:"게시위치",readonly:""}},[t._v(t._s(t.getLocationDisplay(e)))])])])]),a("td",{style:1==t.isUrgentData(e)?"color: red;":""},[t._v("\n                      "+t._s(t.getDisplayContentTypeName(e))+"\n                    ")]),a("td",[t._v(t._s(e.publisher))]),a("td",[a("i",{staticClass:"fa fa-hashtag",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(e.tags)+"\n                    ")]),a("td",{staticStyle:{color:"orange"}},[t._v(t._s(e.originFile))]),a("td",[a("a",{staticClass:"btn btn-success mr-1",attrs:{"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{staticClass:"fa fa-search-plus"})]),a("a",{staticClass:"btn btn-info mr-1",on:{click:function(a){return t.updatePromotion(e)}}},[a("i",{staticClass:"fa fa-edit"})]),a("a",{staticClass:"btn btn-danger mr-1",on:{click:function(a){return t.delOneContent(e)}}},[a("i",{staticClass:"fa fa-trash-o"})])])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchPromotion}}),a("div",[a("button",{staticClass:"btn btn-danger btn-delete",staticStyle:{"margin-right":"1rem",width:"77px"},on:{click:t.removePromotion}},[t._v("삭제")]),t.addButton?a("button",{staticClass:"btn btn-primary btn-pill btn-sm",staticStyle:{width:"77px"},on:{click:t.addPromotion}},[t._v("등록")]):t._e()])],1)])},fe=[],ve="promotionAdd",Ce="/promotion/update/",ye={components:{Pagination:pt},data:function(){return{allChecked:!1,pagination:{pageNum:1,pageCount:10,totalCount:1},promotionList:[],searchCondition:{startDate:"",endDate:"",tags:"",title:"",contentType:F["a"].map(function(t){return t})},contentTypes:F["a"].map(function(t){return t.checked=!0,t}),sorting:{title:xt.DESC,postingStart:xt.DESC,postingEnd:xt.DESC,priority:xt.DESC,publisher:xt.DESC,originFile:xt.DESC,reqSortingCol:"",reqSortingType:xt.DESC}}},watch:{allChecked:function(t){this.promotionList.forEach(function(e){e.checked=t})}},props:{addButton:{type:Boolean,default:!0,required:!1},displayContentsTypeFilter:{type:Boolean,default:!1,required:!1}},methods:{getLocationDisplay:function(t){return t.location.map(function(t){return t.name}).join(",")},delOneContent:function(t){var e,a=this;confirm("해당 컨텐츠를 삭제하시겠습니까?")?(e=[t.contentId],p["a"].promotion.removePromotion(e).then(function(t){200===t.data.result?(confirm("선택한 컨텐츠를 삭제했습니다."),a.searchPromotion(1)):(a.$log.error("컨텐츠 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){a.$log.error("컨텐츠 삭제를 실패했습니다. err :",t),alert("컨텐츠 삭제를 실패했습니다.\n("+t.message+")")})):this.$log.debug("컨텐츠 삭제 안함")},removePromotion:function(){var t,e=this;t=this.promotionList.reduce(function(t,e){return e.checked&&t.push(e.contentId),t},[]),t.length<1?alert("선택된 것이 없습니다."):confirm("선택한 항목을 삭제하시겠습니까?")&&p["a"].promotion.removePromotion(t).then(function(t){200===t.data.result?(confirm("선택한 홍보물을 삭제했습니다."),e.searchPromotion(1)):(e.$log.error("홍보물 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){e.$log.error("홍보물 삭제를 실패했습니다. err :",t),alert("홍보물 삭제를 실패했습니다.\n("+t.message+")")})},addPromotion:function(){this.$log.debug("홍보물 컨텐츠 올리기 페이지 이동"),this.$router.push({name:ve})},searchPromotion:function(t){var e=this;this.$log.debug("searchCondition ",this.searchCondition);var a={pageNum:t,pageCount:this.pagination.pageCount,sortingCol:this.sorting.reqSortingCol,sortingType:this.sorting.reqSortingType};this.searchCondition&&(a=Object.assign(a,this.searchCondition.startDate?{startDate:this.searchCondition.startDate}:{},this.searchCondition.endDate?{endDate:this.searchCondition.endDate}:{},this.searchCondition.tags?{tags:this.searchCondition.tags}:{},this.searchCondition.title?{title:this.searchCondition.title}:{},this.searchCondition.contentType.length>0?{searchContentType:this.searchCondition.contentType.map(function(t){return t.value})}:{})),p["a"].promotion.searchPromotion(a).then(function(a){e.$log.debug("success get promotion list ",a),200===a.data.result?(e.promotionList=a.data.list.map(function(t){return t.checked=!1,t}),e.$refs.pagination.updatePagination({pageNum:t,totalCount:a.data.totalCount})):alert(a.data.resultMsg)}).catch(function(t){alert("홍보물 목록을 조회 해오는 것을 실패했습니다.\n("+t.message+")")})},updatePromotion:function(t){this.$log.debug("홍보물 컨텐츠 수정 페이지로 이동",t,this.$root.$refs),this.$router.push({path:Ce,query:{contentId:t.contentId}})},dateToFormat:function(t){return wt["a"].date.dateToFormat(t)},getContentTypeIcon:function(t){switch(t.value){case"001":return"fa fa-file-image-o";case"002":return"fa fa-file-movie-o";case"003":return"fa fa-file-text-o";case"004":return"fa fa-file-word-o";default:return"fa fa-file-image-o"}},getDisplayContentTypeIcon:function(t){switch(t.contentType){case"001":return"fa fa-file-image-o";case"002":return"fa fa-file-movie-o";case"003":return"fa fa-file-text-o";case"004":return"fa fa-file-word-o";default:return"fa fa-file-image-o"}},getSortingClass:function(t){var e;switch(t){case xt.DESC:e="down";break;case xt.ASCE:default:e="up"}return e},changeSorting:function(t){this.sorting[t]=this.sorting[t]===xt.ASCE?xt.DESC:xt.ASCE,this.sorting.reqSortingCol=t,this.sorting.reqSortingType=this.sorting[t],this.searchPromotion(this.pagination.pageNum)},openPreviewModal:function(t){this.$log.debug("openPreviewModal ",t),this.$store.dispatch("preview/setData",{title:"홍보물 컨텐츠 미리보기 : "+t.title,boardType:H.PROMOTION,contentType:t.contentType,contentPath:t.contentType===F["a"][2].value||t.contentType===F["a"][3].value?t.contentInfo:t.contentPath+"/"+t.contentName})},getDisplayContentTypeName:function(t){var e=F["a"].find(function(e){return e.value==t.contentType});return e?"Y"==t.urgentYn?e.displayName+"(긴급)":e.displayName:""},isUrgentData:function(t){return"Y"==t.urgentYn},checkContentType:function(t,e){var a=this;this.$log.debug("checkContentType ",t,e),this.$log.debug("searchCondition ",this.searchCondition),this.searchCondition&&(e?this.searchCondition.contentType.push(t):this.searchCondition.contentType.some(function(e,s){if(e.value===t.value)return a.searchCondition.contentType.splice(s,1),!0})),this.searchPromotion(1)}}},be=ye,_e=(a("74c3"),Object(f["a"])(be,ge,fe,!1,null,null,null)),ke=_e.exports,we={components:{PromotionList:ke}},xe=we,Te=Object(f["a"])(xe,he,me,!1,null,null,null),Ee=Te.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.viewTitle))])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("홍보물")]),a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},on:{click:t.goPrev}},[a("i",{staticClass:"icon-action-undo"}),t._v("\n                이전 페이지로 돌아가기\n              ")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("홍보물명")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("컨텐츠 선택")]),t.contentType===t.contentTypes[0]?a("span",{staticStyle:{"padding-left":"3em",color:"red"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isUrgentData,expression:"isUrgentData"}],staticClass:"form-check-input",attrs:{id:"checkUrgent",type:"checkbox"},domProps:{checked:Array.isArray(t.isUrgentData)?t._i(t.isUrgentData,null)>-1:t.isUrgentData},on:{change:function(e){var a=t.isUrgentData,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.isUrgentData=a.concat([i])):r>-1&&(t.isUrgentData=a.slice(0,r).concat(a.slice(r+1)))}else t.isUrgentData=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"checkUrgent"}},[t._v("긴급으로 처리")])]):t._e(),a("div",{staticClass:"input-group"},[a("dropdown",{ref:"contentTypeDropdown",staticClass:"col-3",attrs:{"toggle-dropdown-btn-class":"btn-secondary dropdown-toggle-btn",items:t.contentTypes},on:{selectedItem:t.selectContentType}}),t.contentType===t.contentTypes[0]?a("div",{staticClass:"col-9 custom-file",staticStyle:{"margin-left":"15px"}},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"customFile",accept:t.contentType.mediaType},on:{change:function(e){return t.handleFileUpload()}}}),a("label",{key:"type1.value",staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v(t._s(t.fileName))])]):t.contentType===t.contentTypes[1]?a("div",{staticClass:"col-9 custom-file",staticStyle:{"margin-left":"15px"}},[a("input",{ref:"fileMovie",staticClass:"custom-file-input",attrs:{type:"file",id:"customFile",accept:t.contentType.mediaType},on:{change:function(e){return t.handleMovieFileUpload()}}}),a("label",{key:"type2.value",staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v(t._s(t.fileMovieName))])]):t.contentType===t.contentTypes[2]?a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentType.name,expression:"contentType.name"}],key:"type3.value",staticClass:"form-control",attrs:{type:"text",placeholder:"자막을 입력하세요"},domProps:{value:t.contentType.name},on:{input:function(e){e.target.composing||t.$set(t.contentType,"name",e.target.value)}}})]):t.contentType===t.contentTypes[3]?a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentType.name,expression:"contentType.name"}],key:"type4.value",staticClass:"form-control",attrs:{type:"text",placeholder:"컨텐츠 URL을 입력하세요.(http://www.xxxx.co.kr)"},domProps:{value:t.contentType.name},on:{input:function(e){e.target.composing||t.$set(t.contentType,"name",e.target.value)}}})]):t._e()],1)])])]),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시 위치")]),a("span",{staticStyle:{"padding-left":"3em"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isAllSelectLocation,expression:"isAllSelectLocation"}],staticClass:"form-check-input",attrs:{id:"check1",type:"checkbox"},domProps:{checked:Array.isArray(t.isAllSelectLocation)?t._i(t.isAllSelectLocation,null)>-1:t.isAllSelectLocation},on:{change:function(e){var a=t.isAllSelectLocation,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.isAllSelectLocation=a.concat([i])):r>-1&&(t.isAllSelectLocation=a.slice(0,r).concat(a.slice(r+1)))}else t.isAllSelectLocation=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("할당된 모든 지점")])]),a("div",{staticClass:"input-group"},[t._m(2),a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"9",placeholder:"게시위치",readonly:""}},[t._v(t._s(t.locationDisplay))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-7"},[a("label",{attrs:{for:"city"}},[t._v("게시완료 파일")]),a("div",{staticClass:"col-md-9 col-form-label"},[a("div",{staticClass:"form-check form-check-inline mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delExpired,expression:"delExpired"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isSave",value:"Y"},domProps:{checked:t._q(t.delExpired,"Y")},on:{change:function(e){t.delExpired="Y"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("삭제")])]),a("div",{staticClass:"form-check form-check-inline mr-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.delExpired,expression:"delExpired"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isSave",value:"N"},domProps:{checked:t._q(t.delExpired,"N")},on:{change:function(e){t.delExpired="N"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check2"}},[t._v("유지")])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("태그")]),a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"text",placeholder:"#공문#복지#지원금"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9"},[t.uploadPercentage>0?a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+t.uploadPercentage+"%",attrs:{role:"progressbar","aria-valuenow":t.uploadPercentage,"aria-valuemin":"0","aria-valuemax":"100"}})]):t._e()]),a("div",{staticClass:"col-sm-3"},[t.isUpdate?a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{disabled:1==t.isUploading},on:{click:t.updatePromotion}},[a("i",{staticClass:"fa fa-eraser"}),t._v("\n                                      홍보물 수정\n                                    ")]):a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{disabled:1==t.isUploading},on:{click:t.addPromotion}},[a("i",{staticClass:"fa fa-cloud-upload"}),t._v("\n                                      홍보물 올리기\n                                    ")])])])])])]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"card"},[t._m(4),a("div",{staticClass:"card-body"},[a("div",{staticStyle:{height:"685px"}},[a("div",{staticClass:"col"},[t.contentPath&&t.contentType===t.contentTypes[0]?a("div",{staticClass:"carousel slide",attrs:{id:"carouselContentIndicators","data-ride":"carousel","data-interval":"false"}},[a("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{display:"block",width:"100%",height:"auto","max-height":"660px"},attrs:{src:t.contentPath}})]):t.contentPath&&t.contentType===t.contentTypes[1]?a("div",{staticClass:"carousel slide",attrs:{id:"carouselContentIndicators","data-ride":"carousel","data-interval":"false"}},[a("video",{staticClass:"d-block embed-responsive embed-responsive-16by9",staticStyle:{width:"385px !important"},attrs:{src:t.contentPath,controls:"",autoplay:"",loop:""}})]):t.contentPath&&t.contentType===t.contentTypes[2]?a("div",{staticClass:"carousel slide",attrs:{id:"carouselContentIndicators","data-ride":"carousel","data-interval":"false"}},[a("div",[t._v(t._s(t.contentPath))])]):t.contentPath&&t.contentType===t.contentTypes[3]?a("div",{staticClass:"carousel slide",attrs:{id:"carouselContentIndicators","data-ride":"carousel","data-interval":"false"}},[a("iframe",{staticStyle:{display:"block",width:"100%",height:"640px"},attrs:{src:t.contentPath}})]):t._e()])])])])])])])])},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시날짜")]),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text",autocomplete:"off"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-sitemap"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-hashtag"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v(" 홍보물 미리보기")])])}],$e=a("0444");function Pe(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Ne(t){return Oe(t)||Ae(t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ae(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Oe(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var Me=Pe({data:function(){return{isUrgentData:!1,isAllSelectLocation:!0,viewTitle:"홍보물 등록",isUpdate:!1,isUploading:!1,file:null,fileMovie:null,modifyFile:"파일명",uploadPercentage:0,contentTypes:F["a"],locations:{checked:!1,name:"할당된 모든 지점",children:[]},title:"",postingStart:null,postingEnd:null,tags:"#홍보",location:[],delExpired:"Y",textPosition:"",contentType:F["a"][0],contentInfo:"",contentPath:"",contents:[]}},watch:{isAllSelectLocation:function(t){var e;(this.$log.debug("isAllSelectLocation :  ",t),t)?(this.locations.children.forEach(function(t){return t.checked=!0}),this.location.splice(0,this.location.length),(e=this.location).splice.apply(e,[0,0].concat(Ne(this.locations.children)))):(this.locations.children.forEach(function(t){return t.checked=!1}),this.location.splice(0,this.location.length))},"locations.checked":function(t,e){var a;(this.$log.debug("locations.checked ",t),t)?(this.locations.children.forEach(function(t){return t.checked=!0}),this.location.splice(0,this.location.length),(a=this.location).splice.apply(a,[0,0].concat(Ne(this.locations.children)))):(this.locations.children.forEach(function(t){return t.checked=!1}),this.location.splice(0,this.location.length))}},mounted:function(){this.$log.debug("!@#!# ",$('input[name="daterange"]')),$('input[name="daterange"]').daterangepicker()},created:function(){var t=this;this.$log.debug("promotion contentId ",this.$route.query.contentId),this.resetContentTypeName();var e=[p["a"].organ.getAllowedLocation().then(function(e){if(t.$log.debug("get allowed location ",e),200!==e.data.result)throw new Error(e.data.resultMsg);var a;return e.data.list.forEach(function(t){t.checked=!1}),(a=t.locations.children).splice.apply(a,[0,0].concat(Ne(e.data.list))),e.data}).catch(function(t){throw new Error("홍보물 게시 위치를 조회하는 것을 실패했습니다.\n("+t.message+")")})];this.$route.query.contentId&&(this.isUpdate=!0,this.viewTitle="홍보물 수정",this.isAllSelectLocation=!1,e.push(p["a"].promotion.searchPromotionDetail(this.$route.query.contentId).then(function(e){if(t.$log.debug("get promotion detail ",e),200!==e.data.result)throw new Error(e.data.resultMsg);if(t.$log.info("홍보물 조회 성공 ",e),t.title=e.data.data.title,t.modifyFile=e.data.data.originFile,t.postingStart=e.data.data.postingStart+"000000",t.postingEnd=e.data.data.postingEnd+"000000",$('input[name="daterange"]').data("daterangepicker").setStartDate(wt["a"].date.toDate(e.data.data.postingStart)),$('input[name="daterange"]').data("daterangepicker").setEndDate(wt["a"].date.toDate(e.data.data.postingEnd)),$('input[name="daterange"]').val(wt["a"].date.toFormat(wt["a"].date.toDate(e.data.data.postingStart),"YYYY.MM.DD")+" - "+wt["a"].date.toFormat(wt["a"].date.toDate(e.data.data.postingEnd),"YYYY.MM.DD")),t.location=e.data.data.location?e.data.data.location:[],t.tags=e.data.data.tags,t.delExpired=e.data.data.delExpired,t.contentPath=e.data.data.contentType===t.contentTypes[2].value||e.data.data.contentType===t.contentTypes[3].value?e.data.data.contentInfo:e.data.data.contentPath+"/"+e.data.data.contentName,t.contentInfo=e.data.data.contentInfo,t.contentTypes.forEach(function(a,s){if(a.value===e.data.data.contentType)return t.contentType=a,void(t.contentType.name=0==s||1==s?t.modifyFile:t.contentInfo)}),t.$refs.contentTypeDropdown.selectItem(t.contentTypes.find(function(t){return t.value===e.data.data.contentType})),t.$log.debug("originFile : ",t.modifyFile,e.data.data.originFile),t.$log.debug("contentInfo : ",t.contentInfo,e.data.data.contentInfo),t.contentType.value===t.contentTypes[0].value){var a=new Date;t.contentPath=t.contentPath+"?"+a.getTime()}return t.isUrgentData="Y"==t.urgentYn,e.data}).catch(function(e){throw t.$log.error("홍보물 조회를 실패했습니다. err :",e),new Error("홍보물 조회를 실패했습니다.\n("+e.message+")")}))),Promise.all(e).then(function(e){var a;0==t.isUpdate&&(t.$log.debug("신규등록이라서 할당된 모든 지점 추가함"),t.locations.children.forEach(function(t){return t.checked=!0}),t.location.splice(0,t.location.length),(a=t.location).splice.apply(a,[0,0].concat(Ne(t.locations.children))));2===e.length&&(t.$log.debug("수정이라서 지정된 게시 위치 얻어옴"),Array.isArray(e[1].data.location)&&(t.locations.children.forEach(function(t){e[1].data.location.some(function(e){if(e===t.organId)return t.checked=!0,!0})}),t.$log.debug("!@#!@ ",t.locations)),t.locations.children.length==e[1].data.location.length&&(t.isAllSelectLocation=!0,t.$log.debug("수정이지만 모든 지점 할당된 상태임")))}).catch(function(t){return alert(t.message)})},components:{LinkedDatePicker:Ft,Dropdown:$e["a"],TreeList:se},methods:{getContentType:function(t){var e=this;return this.$log.debug("getContentType ",t),this.contentTypes.forEach(function(a){if(a.value===t)return e.$log.debug("getContentType matched : ",a.value),a}),this.contentTypes[0]},resetContentTypeName:function(){var t=this;this.contentTypes.forEach(function(e){t.$log.debug("resetContentTypeName() contentType.name : ",e.name),e.name=""})},checkLocation:function(t,e){var a=this;this.$log.debug("checkLocation ",t,e),e?this.location.push(t):this.location.some(function(e,s){if(e.organId===t.organId)return a.location.splice(s,1),!0})},handleFileUpload:function(){this.$log.debug("handleFileUpload file : ",this.$refs.file.files[0]),this.file=this.$refs.file.files[0],this.$log.debug("handleFileUpload org contentType.name : ",this.contentType.name),this.contentType.name=this.file?this.file.name:this.modifyFile,this.$log.debug("handleFileUpload contentType.name : ",this.contentType.name)},handleMovieFileUpload:function(){this.$log.debug("handleFileUpload file : %s",this.$refs.fileMovie.files[0]),this.fileMovie=this.$refs.fileMovie.files[0],this.$log.debug("handleFileUpload org contentType.name : ",this.contentType.name),this.contentType.name=this.fileMovie?this.fileMovie.name:this.modifyFile,this.$log.debug("handleFileUpload contentType.name : ",this.contentType.name)},addPromotion:function(){var t,e=this;if(""!==this.title){if(this.contentType==this.contentTypes[0]){if(null===this.file||""===this.file.name)return void alert("이미지 컨텐츠를 선택하세요")}else if(this.contentType==this.contentTypes[1]){if(null===this.fileMovie||""===this.fileMovie.name)return void alert("동영상 컨텐츠를 선택하세요")}else if(this.contentType==this.contentTypes[2]){if(this.contentInfo=this.contentType.name,""==this.contentInfo)return void alert("자막을 입력하세요")}else if(this.contentType==this.contentTypes[3]&&(this.contentInfo=this.contentType.name,""==this.contentInfo))return void alert("웹 URL을 입력하세요");null!==this.postingStart&&null!==this.postingEnd?(t=this.promotionFormData,p["a"].promotion.promotionAdd(t,function(t){e.isUploading=!0,e.uploadPercentage=parseInt(Math.round(100*t.loaded/t.total))}).then(function(t){if(e.$log.debug("홍보물 등록 요청 결과 ",t),e.isUploading=!1,200===t.data.result){if(e.$log.info("홍보물 등록 완료 ",t),confirm("홍보물 등록을 완료했습니다."),e.contentPath="",e.contentPath=e.contentType.value===e.contentTypes[2].value||e.contentType.value===e.contentTypes[3].value?e.contentInfo:t.data.contentPath,e.uploadPercentage=0,e.$log.error("홍보물 등록 완료 컨텐츠 경로 : ",e.contentType.value,e.contentPath),e.contentType.value===e.contentTypes[0].value){var a=new Date;e.contentPath=e.contentPath+"?"+a.getTime()}}else alert(t.data.resultMsg)}).catch(function(t){e.$log.error("홍보물 등록 실패",t.stack),e.uploadPercentage=0,e.isUploading=!1,alert("홍보물 등록을 실패했습니다.\n("+t.message+")")})):alert("게시날짜를 선택하세요")}else alert("제목을 입력하세요")},updatePromotion:function(){var t,e=this;""!==this.title?null!==this.postingStart&&null!==this.postingEnd?(t=this.promotionFormData,p["a"].promotion.updatePromotion(this.$route.query.contentId,t,function(t){e.isUploading=!0,e.uploadPercentage=parseInt(Math.round(100*t.loaded/t.total))}).then(function(t){if(e.$log.debug("홍보물 수정 요청 결과 ",t),e.isUploading=!1,200===t.data.result){if(e.$log.info("홍보물 수정 완료 ",t),confirm("홍보물 수정을 완료했습니다."),e.uploadPercentage=0,e.contentPath=e.contentType.value===e.contentTypes[2].value||e.contentType.value===e.contentTypes[3].value?e.contentInfo:t.data.contentPath,e.contentType.value===e.contentTypes[0].value){var a=new Date;e.contentPath=e.contentPath+"?"+a.getTime()}}else alert(t.data.resultMsg)}).catch(function(t){e.uploadPercentage=0,e.isUploading=!1,e.$log.error("홍보물 수정 실패",t.stack),alert("홍보물 수정을 실패했습니다.\n("+t.message+")")})):alert("게시날짜를 선택하세요"):alert("제목을 입력하세요")},selectContentType:function(t){t&&(this.contentType=t)},goPrev:function(){this.$router.go(-1)}},computed:{fileName:function(){return this.$log.debug("fileName () file : ",this.file?this.file.name:""),this.contentType.name=this.file&&this.file.name!=this.contentType.name?this.file.name:this.contentType.name,this.$log.debug("fileName () contentType.name : ",this.contentType.name),this.modifyFile=this.contentType.name,this.$log.debug("fileName () modifyFile : ",this.modifyFile,this.contentType.name),this.contentType.name?this.contentType.name:"이미지 컨텐츠를 선택하세요"},fileMovieName:function(){return this.contentType.name=this.fileMovie&&this.fileMovie.name!=this.contentType.name?this.fileMovie.name:this.contentType.name,this.modifyFile=this.contentType.name,this.$log.debug("modifyFile : ",this.modifyFile,this.contentType.name),this.contentType.name?this.contentType.name:"동영상 컨텐츠를 선택하세요"},locationDisplay:function(){var t=this.location.map(function(t){return t.name});return this.$log.debug("arr ",t),t.join(",")},promotionFormData:function(){var t=new FormData;return this.isFile?this.contentType===this.contentTypes[0]?this.file&&t.append("file",this.file):this.fileMovie&&t.append("file",this.fileMovie):(this.contentInfo=this.contentType.name,t.append("contentInfo",this.contentInfo)),t.append("title",this.title),t.append("postingStart",this.postingStart),t.append("postingEnd",this.postingEnd),t.append("contentType",this.contentType.value),t.append("tags",this.tags),t.append("location",this.location.map(function(t){return t.organId}).join(",")),t.append("delExpired",this.delExpired),t.append("urgentYn",1==this.isUrgentData?"Y":"N"),t},isFile:function(){return this.contentType===this.contentTypes[0]||this.contentType===this.contentTypes[1]}}},"mounted",function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},autoUpdateInput:!1,ranges:{"오늘 날짜":[moment(),moment()]}};$('input[name="daterange"]').daterangepicker(e,function(t,e,a){}),$('input[name="daterange"]').on("apply.daterangepicker",function(e,a){t.$log.debug("appay.daterangepicker",a),$('input[name="daterange"]').val(a.startDate.format("YYYY.MM.DD")+" - "+a.endDate.format("YYYY.MM.DD")),t.postingStart=a.startDate.format("YYYYMMDD000000"),t.postingEnd=a.endDate.format("YYYYMMDD235959")}),$('input[name="daterange"]').on("cancel.daterangepicker",function(e,a){t.$log.debug("cancel.daterangepicker",a),$('input[name="daterange"]').val(""),t.postingStart=null,t.postingEnd=null})}),je=Me,Le=(a("4ee9"),Object(f["a"])(je,Se,De,!1,null,null,null)),Ye=Le.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"collapse show",attrs:{id:"searchArea"}},[a("div",{staticClass:"card-body"},[t._m(2),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                제목\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.title,expression:"searchCondition.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.searchCondition.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPromotion(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"title",e.target.value)}}})])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                태그\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.tags,expression:"searchCondition.tags"}],staticClass:"form-control",attrs:{type:"text",placeholder:"#홍보"},domProps:{value:t.searchCondition.tags},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPromotion(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"tags",e.target.value)}}})])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                    컨텐츠 타입\n                ")]),t._l(t.contentTypes,function(e){return a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"contentType.checked"}],staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)},function(a){return t.checkContentType(e,e.checked)}]}}),a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-left":"3px"}}),t._v("\n                    "+t._s(e.displayName)+"\n                ")])}),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"100px","margin-left":"10px"},on:{click:t.searchPromotion}},[a("i",{staticClass:"fa fa-search"}),t._v("\n                검색\n              ")])])],2)])])]),a("promotion-list",{ref:"promotionList",attrs:{"add-button":!1,"search-condition":t.searchCondition}})],1)])},Re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("홍보물 검색")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("검색 조건")]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#searchArea","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                게시날짜\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-hashtag"})])])}];function qe(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var He=qe({data:function(){return{searchCondition:{startDate:Bt["a"].toFormat("YYYYMMDD000000"),endDate:Bt["a"].toFormat("YYYYMMDD235959"),tags:"",title:"",contentType:F["a"].map(function(t){return t})},contentTypes:F["a"].map(function(t){return t.checked=!0,t})}},components:{PromotionList:ke,LinkedDatePicker:Ft},props:{},mounted:function(){this.$log.debug("!@#!# ",$('input[name="daterange"]')),$('input[name="daterange"]').daterangepicker()},methods:{getContentTypeIcon:function(t){switch(t.value){case"001":return"fa fa-file-image-o";case"002":return"fa fa-file-movie-o";case"003":return"fa fa-file-text-o";case"004":return"fa fa-file-word-o";default:return"fa fa-file-image-o"}},checkContentType:function(t,e){var a=this;this.$log.debug("checkContentType ",t,e),e?this.searchCondition.contentType.push(t):this.searchCondition.contentType.some(function(e,s){if(e.value===t.value)return a.searchCondition.contentType.splice(s,1),!0})},searchPromotion:function(){this.$refs.promotionList.searchCondition=this.searchCondition,this.$refs.promotionList.searchPromotion(1)}}},"mounted",function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}};e.ranges={"오늘 날짜":[moment(),moment()]},$('input[name="daterange"]').daterangepicker(e,function(e,a,s){t.searchCondition.startDate=e.format("YYYYMMDD000000"),t.searchCondition.endDate=a.format("YYYYMMDD235959")})}),Fe=He,Be=(a("5fb0"),Object(f["a"])(Fe,Ue,Re,!1,null,null,null)),Ge=Be.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("템플릿 유형")]),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.templateTypes.length))])]),a("div",{staticClass:"card-body",staticStyle:{display:"flex"}},t._l(t.templateTypes,function(e,s){return a("div",{staticClass:"card card-accent-success mx-1",staticStyle:{width:"200px"}},[a("div",{staticClass:"card-header bg-dark"},[a("button",{staticClass:"btn btn-ghost-primary",attrs:{type:"button"}},[a("i",{staticClass:"icon-grid mx-1"}),t._v(" "+t._s(e.displayName)+" \n                                ")])]),e.value===t.templateTypes[0].value?a("div",{staticClass:"card-body row"},[t._m(1,!0)]):e.value===t.templateTypes[1].value?a("div",{staticClass:"card-body row"},[t._m(2,!0),t._m(3,!0)]):t._e(),e.value===t.templateTypes[2].value?a("div",{staticClass:"card-body row"},[t._m(4,!0),t._m(5,!0),t._m(6,!0)]):t._e(),e.value===t.templateTypes[3].value?a("div",{staticClass:"card-body row"},[t._m(7,!0),t._m(8,!0),t._m(9,!0),t._m(10,!0)]):t._e()])}),0)])])])])])},We=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("홍보물 템플릿")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"100%","min-height":"200px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 1 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 1 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 2 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"34%","min-height":"66px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 1 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"33%","min-height":"66px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 2 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"100%",height:"33%","min-height":"66px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 3 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"50%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 1 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"50%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 2 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"50%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 3 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-style":"dotted","border-width":"1px","border-color":"red",width:"50%",height:"50%","min-height":"100px"}},[a("p",{staticClass:"font-weight-bolder text-center align-middle"},[t._v(" 4 ")])])}],Ve=a("0722"),Je={data:function(){return{templateTypes:Ve["a"],template:{templateType:Ve["a"][0].value}}},methods:{promotionDrop:function(){this.$log.debug("promotionDrop",arguments)}}},Ke=Je,Qe=Object(f["a"])(Ke,ze,We,!1,null,null,null),Xe=Qe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"collapse show",attrs:{id:"searchArea"}},[a("div",{staticClass:"card-body"},[t._m(2),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                제목\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.title,expression:"searchCondition.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.searchCondition.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchContent(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"title",e.target.value)}}})])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                태그\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.tags,expression:"searchCondition.tags"}],staticClass:"form-control",attrs:{type:"text",placeholder:"#공고문#홍보"},domProps:{value:t.searchCondition.tags},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchContent(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"tags",e.target.value)}}})])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                    컨텐츠 타입\n                ")]),t._l(t.contentTypes,function(e){return a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"contentType.checked"}],staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)},function(a){return t.checkContentType(e,e.checked)}]}}),a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-left":"3px"}}),t._v("\n                    "+t._s(e.displayName)+"\n                ")])}),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"100px","margin-left":"10px"},on:{click:t.searchContent}},[a("i",{staticClass:"fa fa-search"}),t._v("\n                검색\n              ")])])],2)])])]),a("contents-list",{ref:"contentList",attrs:{"add-button":!1,"search-condition":t.searchCondition}})],1)])},ta=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("컨텐츠 관리")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("검색 조건")]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#searchArea","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                게시날짜\n            ")]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-hashtag"})])])}],ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n        컨텐츠 목록\n        "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.pagination.totalCount))]),t.displayContentsTypeFilter?a("div",{staticStyle:{display:"inline","padding-left":"5%"}},t._l(t.contentTypes,function(e){return a("span",{staticStyle:{"padding-left":"3rem"}},[a("input",{staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox"}}),a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-left":"3px"}}),t._v("\n                "+t._s(e.displayName)+"\n            ")])}),0):t._e()]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var a=t.allChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allChecked=a.concat([i])):r>-1&&(t.allChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allChecked=n}}})]),a("th",[t._v("\n                        컨텐츠명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.title)+"-circle sort-icon",style:"title"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("title")}}})])]),a("th",[t._v("\n                        게시시작일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingStart)+"-circle sort-icon",style:"postingStart"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingStart")}}})])]),a("th",[t._v("\n                        게시종료일\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.postingEnd)+"-circle sort-icon",style:"postingEnd"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("postingEnd")}}})])]),a("th",[t._v("\n                        게시위치\n                        ")]),a("th",[t._v("\n                        타입\n                        ")]),a("th",[t._v("\n                        게시자\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.publisher)+"-circlesort-icon",style:"publisher"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("publisher")}}})])]),a("th",[t._v("\n                        태그\n                        ")]),a("th",{attrs:{colspan:"2"}},[t._v("\n                        원본파일명\n                        "),a("span",[a("i",{class:"icon-arrow-"+t.getSortingClass(t.sorting.originFile)+"-circle sort-icon",style:"originFile"===t.sorting.reqSortingCol?"margin-left: 5px;color: orange;":"margin-left: 5px;",on:{click:function(e){return t.changeSorting("originFile")}}})])])])]),a("tbody",t._l(t.contentList,function(e){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"content.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)}}})]),a("td",[a("a",{staticClass:"btn btn-ghost-normal mr-1 text-primary",attrs:{title:"생성일: "+e.createDate,"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-right":"3px",color:"primary"}}),a("strong",[t._v(t._s(e.title))])])]),a("td",[a("i",{staticClass:"fa fa-calendar-check-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingStart))+"\n                    ")]),a("td",[a("i",{staticClass:"fa fa-calendar-times-o",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(t.dateToFormat(e.postingEnd))+"\n                    ")]),a("td",[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-ghost-primary dropdown-toggle col-offset-6",attrs:{id:"alllocations",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(e.location&&e.location[0]?e.location[0].name:""))]),a("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, -356px, 0px)"},attrs:{"x-placement":"top-start"}},[a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"4",placeholder:"게시위치",readonly:""}},[t._v(t._s(t.getLocationDisplay(e)))])])])]),a("td",[t._v(t._s(t.getDisplayContentTypeName(e)))]),a("td",[t._v(t._s(e.publisher))]),a("td",[a("i",{staticClass:"fa fa-hashtag",staticStyle:{"padding-right":"3px"}}),t._v("\n                      "+t._s(e.tags)+"\n                    ")]),a("td",{staticStyle:{color:"orange"}},[t._v(t._s(e.originFile))]),a("td",[a("a",{staticClass:"btn btn-success mr-1",attrs:{"data-toggle":"modal","data-target":"#preview-modal"},on:{click:function(a){return t.openPreviewModal(e)}}},[a("i",{staticClass:"fa fa-search-plus"})]),a("a",{staticClass:"btn btn-info mr-1",on:{click:function(a){return t.updateContent(e)}}},[a("i",{staticClass:"fa fa-edit"})]),a("a",{staticClass:"btn btn-danger mr-1",on:{click:function(a){return t.delOneContent(e)}}},[a("i",{staticClass:"fa fa-trash-o"})])])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchContent}}),a("div",[a("button",{staticClass:"btn btn-danger btn-delete",staticStyle:{"margin-right":"1rem",width:"77px"},on:{click:t.removeContents}},[t._v("삭제")])])],1)])},aa=[],sa=[{displayName:"이미지",value:"001",mediaType:"image/*"},{displayName:"동영상",value:"002",mediaType:"video/mp4,video/ogg,video/webm"},{displayName:"자막",value:"003",mediaType:".psb, .srt, .ssa, .sub, .sami, .smi, .usf, .vtt"},{displayName:"웹URL",value:"004"},{displayName:"공고문",value:"005"}],na="/noti/update",ia="/promotion/update/",ra={components:{Pagination:pt},data:function(){return{allChecked:!1,pagination:{pageNum:1,pageCount:10,totalCount:1},contentList:[],contentTypes:sa,removeCondition:{contentId:1,contentType:"001"},sorting:{title:xt.DESC,postingStart:xt.DESC,postingEnd:xt.DESC,priority:xt.DESC,publisher:xt.DESC,originFile:xt.DESC,reqSortingCol:"",reqSortingType:xt.DESC}}},watch:{allChecked:function(t){this.contentList.forEach(function(e){e.checked=t})}},props:{displayContentsTypeFilter:{type:Boolean,default:!1,required:!1},searchCondition:{type:Object,default:null,required:!1}},created:function(){this.searchContent(1)},methods:{getLocationDisplay:function(t){return t.location.map(function(t){return t.name}).join(",")},delOneContent:function(t){var e=this,a=Array.from({length:1},function(t,e){return{contentId:1,contentType:"001"}});confirm("해당 컨텐츠를 삭제하시겠습니까?")?(this.$log.debug("컨텐츠 삭제 요청 ID :",t.contentId),this.removeCondition.contentId=t.contentId,this.removeCondition.contentType=t.contentType,a.push(this.removeCondition),this.$log.debug("컨텐츠 삭제 요청 인자 :",a),p["a"].content.removeContent(a).then(function(t){200===t.data.result?(confirm("선택한 컨텐츠를 삭제했습니다."),e.searchContent(1)):(e.$log.error("컨텐츠 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){e.$log.error("컨텐츠 삭제를 실패했습니다. err :",t),alert("컨텐츠 삭제를 실패했습니다.\n("+t.message+")")})):this.$log.debug("컨텐츠 삭제 안함")},removeContents:function(){var t,e=this;Array.from({length:1},function(t,e){return{contentId:1,contentType:"001"}});t=this.contentList.reduce(function(t,e){return e.checked&&t.push({contentId:e.contentId,contentType:e.contentType}),t},[]),this.$log.debug("컨텐츠 삭제 요청 목록 :",t),t.length<1?alert("선택된 것이 없습니다."):p["a"].content.removeContent(t).then(function(t){200===t.data.result?(confirm("선택한 컨텐츠를 삭제했습니다."),e.searchContent(1)):(e.$log.error("컨텐츠 삭제를 실패했습니다. ",t),alert(t.data.resultMsg))}).catch(function(t){e.$log.error("컨텐츠 삭제를 실패했습니다. err :",t),alert("컨텐츠 삭제를 실패했습니다.\n("+t.message+")")})},dateToFormat:function(t){return wt["a"].date.dateToFormat(t)},getSortingClass:function(t){var e;switch(t){case xt.DESC:e="down";break;case xt.ASCE:default:e="up"}return e},changeSorting:function(t){this.sorting[t]=this.sorting[t]===xt.ASCE?xt.DESC:xt.ASCE,this.sorting.reqSortingCol=t,this.sorting.reqSortingType=this.sorting[t],this.searchContent(this.pagination.pageNum)},searchContent:function(t){var e=this;this.$log.debug("searchCondition ",this.searchCondition);var a={pageNum:t,pageCount:this.pagination.pageCount,sortingCol:this.sorting.reqSortingCol,sortingType:this.sorting.reqSortingType};this.searchCondition&&(a=Object.assign(a,this.searchCondition.startDate?{startDate:this.searchCondition.startDate}:{},this.searchCondition.endDate?{endDate:this.searchCondition.endDate}:{},this.searchCondition.tags?{tags:this.searchCondition.tags}:{},this.searchCondition.title?{title:this.searchCondition.title}:{},this.searchCondition.contentType.length>0?{searchContentType:this.searchCondition.contentType.map(function(t){return t.value})}:{})),p["a"].content.searchContent(a).then(function(a){e.$log.debug("success get content list ",a),200===a.data.result?(e.contentList=a.data.list.map(function(t){return t.checked=!1,t}),e.$refs.pagination.updatePagination({pageNum:t,totalCount:a.data.totalCount})):alert(a.data.resultMsg)}).catch(function(t){alert("컨텐츠 목록을 조회 해오는 것을 실패했습니다.\n("+t.message+")")})},updateContent:function(t){this.$log.debug("컨텐츠 수정 페이지로 이동"),"005"===t.contentType?this.$router.push({path:na,query:{contentId:t.contentId}}):this.$router.push({path:ia,query:{contentId:t.contentId}})},openPreviewModal:function(t){this.$log.debug("openPreviewModal ",t),"005"===t.contentType?this.$store.dispatch("preview/setData",{title:"공고문 미리보기 : "+t.title,contentPath:t.contentPath,contents:t.contents,boardType:H.ANNOUNCE}):this.$store.dispatch("preview/setData",{title:"홍보물 컨텐츠 미리보기 : "+t.title,boardType:H.PROMOTION,contentType:t.contentType,contentPath:t.contentType===sa[3].value?t.contentInfo:t.contentPath+"/"+t.contentName})},getContentTypeIcon:function(t){switch(t.contentType){case sa[0].value:return"fa fa-file-image-o";case sa[1].value:return"fa fa-file-movie-o";case sa[2].value:return"fa fa-file-text-o";case sa[3].value:return"fa fa-file-word-o";case sa[4].value:return"fa fa-file-pdf-o";default:return"fa fa-file-image-o"}},getDisplayContentTypeName:function(t){var e=sa.find(function(e){return e.value==t.contentType});return e?e.displayName:""}}},oa=ra,ca=(a("daa4"),Object(f["a"])(oa,ea,aa,!1,null,null,null)),la=ca.exports;function da(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var ua=da({data:function(){return{searchCondition:{startDate:Bt["a"].toFormat("YYYYMMDD000000"),endDate:Bt["a"].toFormat("YYYYMMDD235959"),tags:"",title:"",contentType:sa.map(function(t){return t})},contentTypes:sa.map(function(t){return t.checked=!0,t})}},components:{ContentsList:la,LinkedDatePicker:Ft},props:{},mounted:function(){this.$log.debug("daterange picker mounted....."),this.$log.debug("!@#!# ",$('input[name="daterange"]')),$('input[name="daterange"]').daterangepicker()},methods:{getContentTypeIcon:function(t){switch(t.value){case"001":return"fa fa-file-image-o";case"002":return"fa fa-file-movie-o";case"003":return"fa fa-file-text-o";case"004":return"fa fa-file-word-o";case"005":return"fa fa-file-pdf-o";default:return"fa fa-file-image-o"}},checkContentType:function(t,e){var a=this;this.$log.debug("checkContentType ",t,e),e?this.searchCondition.contentType.push(t):this.searchCondition.contentType.some(function(e,s){if(e.value===t.value)return a.searchCondition.contentType.splice(s,1),!0})},searchContent:function(){this.$refs.contentList.searchContent(1)}}},"mounted",function(){var t=this;this.$log.debug("Here daterange picker mounted.....");var e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}};e.ranges={"지난 1달":[moment().subtract(29,"days"),moment()],"오늘 날짜":[moment(),moment()]},e.startDatePlaceholder="게시시작일",e.endDatePlaceholder="게시종료일",$('input[name="daterange"]').daterangepicker(e,function(e,a,s){t.$log.debug(s),t.searchCondition.startDate=e.format("YYYYMMDD000000"),t.$log.debug(t.searchCondition.startDate),t.searchCondition.endDate=a.format("YYYYMMDD235959"),t.$log.debug(t.searchCondition.endDate)})}),pa=ua,ha=(a("3a3f"),Object(f["a"])(pa,Ze,ta,!1,null,null,null)),ma=ha.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("노원 구청 조직도")]),a("div",{staticClass:"card-header-actions"},[a("button",{staticClass:"btn btn-primary",on:{click:t.getOrgan}},[a("i",{staticClass:"icon-refresh"}),t._v(" 연동하기")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"cd-example",staticStyle:{"min-height":"620px","max-height":"620px","overflow-y":"auto",border:"1px solid lightblue"}},[a("div",{staticClass:"accordion",attrs:{id:"accordionHead"}},t._l(t.treeData.children,function(e,s){return a("div",{staticClass:"card"},[1==e.depth?a("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n                                                    "+t._s(e.name)+"\n                                                ")])])]):t._e(),a("div",{staticClass:"collapse show",staticStyle:{"min-height":"530px","max-height":"530px","overflow-y":"auto"},attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordionHead"}},[a("div",{staticClass:"card-body"},t._l(e.children,function(e,s){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("button",{staticClass:"btn btn-ghost-warning",on:{click:function(a){return t.getUsers(e,0)}}},[a("strong",[t._v(t._s(e.name)+" ("+t._s(e.organId)+")")])]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{"data-toggle":"collapse","data-target":"#depth3 + index","aria-expanded":"true"}},[a("span",{staticClass:"badge badge-info badge-pill",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.getUsers(e,0)}}},[t._v(t._s(e.count))])])])]),a("div",{staticClass:"collapse show",attrs:{id:"depth3 + index"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"scrollspy-example",attrs:{"data-spy":"scroll","data-target":"#accordionOrgan2","data-offset":"0"}},t._l(e.children,function(e){return a("ul",{staticClass:"list-group"},[t.selectedListItem==e?a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center active border-warning",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.getUsers(e,0)}}},[t._v("\n                                                              "+t._s(e.name)+"\n                                                              "),a("span",{staticClass:"badge badge-warning badge-pill"},[t._v(t._s(e.count))])]):a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.getUsers(e,0)}}},[t._v("\n                                                              "+t._s(e.name)+"\n                                                              "),a("span",{staticClass:"badge badge-info badge-pill"},[t._v(t._s(e.count))])])])}),0)])])])}),0)])])}),0)])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[t._m(1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form row mb-3"},[a("div",{staticClass:"col"},[a("dropdown",{ref:"searchTypeDropdown",attrs:{items:t.searchTypes},on:{selectedItem:function(e){t.searchCondition.sType=e.value}}})],1),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCondition.sTitle,expression:"searchCondition.sTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"검색어를 입력하세요"},domProps:{value:t.searchCondition.sTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser(e)},input:function(e){e.target.composing||t.$set(t.searchCondition,"sTitle",e.target.value)}}})]),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"100px","margin-left":"10px"},on:{click:t.searchUser}},[a("i",{staticClass:"fa fa-search"}),t._v("\n                                            검색\n                                        ")])])]),a("div",{staticClass:"row mb-3 card"},[a("div",{staticClass:"card-header"},[t._v("\n                                        목록\n                                        "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.users.length))])]),a("div",{staticClass:"card-body",staticStyle:{"max-height":"650px","overflow-y":"auto"}},[a("table",{staticClass:"table table-striped"},[t._m(2),a("tbody",t._l(t.searchUsers,function(e){return a("tr",[a("td",[a("i",{staticClass:"fa fa-photo",staticStyle:{"padding-right":"3px"}}),a("img",{attrs:{src:e.photoPath,alt:""}})]),a("td",{staticStyle:{color:"orange"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.userId&&e.userId.length>0,expression:"user.userId && user.userId.length > 0"}],staticClass:"fa fa-user",staticStyle:{"padding-right":"3px"}}),t._v("\n                                                        "+t._s(e.userId)+"\n                                                    ")]),a("td",[a("a",{staticClass:"text-primary"},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.userName&&e.userName.length>0,expression:"user.userName && user.userName.length > 0"}],staticClass:"fa fa-tag",staticStyle:{"padding-right":"3px",color:"primary"}}),a("strong",[t._v(t._s(e.userName))])])]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.telNum&&e.telNum.length>0,expression:"user.telNum && user.telNum.length > 0"}],staticClass:"fa fa-phone",staticStyle:{"padding-right":"3px"}}),t._v("\n                                                        "+t._s(e.telNum)+"\n                                                    ")]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.email&&e.email.length>0,expression:"user.email && user.email.length > 0"}],staticClass:"fa fa-envelope",staticStyle:{"padding-right":"3px"}}),t._v("\n                                                        "+t._s(e.email)+"\n                                                    ")]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.organName&&e.organName.length>0,expression:"user.organName && user.organName.length > 0"}],staticClass:"fa fa-sitemap",staticStyle:{"padding-right":"3px"}}),t._v("\n                                                        "+t._s(e.organName)+"\n                                                    ")]),a("td",[a("i",{class:t.getDisplayRolesIcon(e),staticStyle:{"padding-right":"3px",color:"red"}}),t._v("\n                                                        "+t._s(t.getDisplayRoles(e))+"\n                                                    ")]),a("td",[a("button",{directives:[{name:"show",rawName:"v-show",value:"N"==e.isRegUser,expression:"user.isRegUser=='N'"}],staticClass:"btn btn-sm btn-outline-warning",on:{click:function(a){return t.goAllowRole(e)}}},[t._v("권한부여")])])])}),0)])])])])])])])])])])},fa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("조직도")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("조직원 정보")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("\n                                                        사진\n                                                    ")]),a("th",[t._v("\n                                                        ID\n                                                        ")]),a("th",[t._v("\n                                                        이름\n                                                        ")]),a("th",[t._v("\n                                                        연락처\n                                                    ")]),a("th",[t._v("\n                                                        E-Mail\n                                                    ")]),a("th",[t._v("\n                                                        지점\n                                                    ")]),a("th",[t._v("\n                                                        권한\n                                                    ")]),a("th")])])}],va="/user/setting",Ca={components:{TreeList:se,Dropdown:$e["a"]},data:function(){return{selectedListItem:null,searchTypes:[{displayName:"이름",value:"0"},{displayName:"ID",value:"1"}],searchCondition:{sType:"",sTitle:""},treeData:{name:"조직도",children:[]},users:[],searchUsers:[]}},methods:{getOrgan:function(){var t=this;p["a"].organ.getOrgan().then(function(e){if(200!==e.data.result)throw new Error(e.data.resultMsg);t.treeData.children=e.data.list.filter(function(t){return 1===t.depth}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parentId===t.organId}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parentId===t.organId}).map(function(t){return t}),t}),t}),t.$log.debug("organ paring depth=1 len : ",t.treeData.children.length)}).catch(function(e){t.$log.error(e),alert("조직도 연동을 실패했습니다.\n("+e.message+")")}),this.$log.debug("treeData : ",this.treeData.children.length),this.treeData.children.forEach(function(e,a){t.$log.debug("organ ",e)})},getUsers:function(t,e){var a=this;e||(this.$log.debug("getUsers ",t),p["a"].organ.getUsers(t.organId).then(function(t){if(a.$log.debug("get users",t),200!==t.data.result)throw new Error(t.data.resultMsg);a.users=t.data.list,a.searchUsers=t.data.list}).catch(function(t){alert("조직별 사원리스트 조회를 실패했습니다\n("+t.message+")")}),this.selectedListItem=t)},getDisplayRolesIcon:function(t){var e;return null!=t.roles&&t.roles[0]&&t.roles.length>0&&(e=t.roles.map(function(t){return t.roleName}).join(","),""!=e)?"fa fa-key":""},getDisplayRoles:function(t){return null!=t.roles&&t.roles[0]&&t.roles.length>0?t.roles.map(function(t){return t.roleName}).join(","):""},goAllowRole:function(t){this.$log.debug("권한 부여 페이지로 이동",t,this.$router.name),this.$router.push({path:va,query:{userId:t.userId,prevPage:this.$route.name}})},searchUser:function(){var t=this;this.searchUsers=[],this.$log.debug("searchType ",this.searchCondition.sType),this.$log.debug("searchTitle ",this.searchCondition.sTitle),""===this.searchCondition.sTitle?this.users.forEach(function(e,a){t.searchUsers.push(e)}):this.users.forEach(function(e,a){"0"==t.searchCondition.sType?(t.$log.debug("user name ",e.userName),-1!=e.userName.indexOf(t.searchCondition.sTitle)&&t.searchUsers.push(e)):(t.$log.debug("user id ",e.userId),-1!=e.userId.indexOf(t.searchCondition.sTitle)&&t.searchUsers.push(e))})}},created:function(){this.getOrgan()}},ya=Ca,ba=(a("fd8e"),Object(f["a"])(ya,ga,fa,!1,null,null,null)),_a=ba.exports,ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px"}},[a("div",{staticClass:"cd-example"},[a("div",{staticClass:"accordion",attrs:{id:"accordionOrgan"}},t._l(t.treeData.children,function(e){return a("div",{staticClass:"card"},[1==e.depth?a("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[t._m(2,!0)]):t._e(),a("div",{staticClass:"collapse show",staticStyle:{"min-height":"530px","max-height":"530px","overflow-y":"auto"},attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordionOrgan"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"scrollspy-example",attrs:{"data-spy":"scroll","data-target":"#accordionOrgan","data-offset":"0"}},[a("ul",{staticClass:"list-group"},[t.selectedListItem==e?a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center active border-warning",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.selectLocation(e)}}},[a("div",{staticClass:"col-sm-10 col-md-10 px-1"},[t._v(" "+t._s(e.name)+"\n                          "),a("span",{staticClass:"badge badge-warning badge-pill mx-1"},[t._v(t._s(e.organId))])]),a("div",{staticClass:"col-sm-2 col-md-2"},[a("span",{staticClass:"badge badge-pill",class:(e.count,"badge-warning")},[t._v(t._s(e.count))])])]):a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.selectLocation(e)}}},[a("div",{staticClass:"col-sm-10 col-md-10 px-1"},[t._v(" "+t._s(e.name)+"\n                          "),a("span",{staticClass:"badge badge-dark badge-pill mx-1"},[t._v(t._s(e.organId))])]),a("div",{staticClass:"col-sm-2 col-md-2"},[a("span",{staticClass:"badge badge-pill",class:e.count>0?"badge-warning":"badge-dark"},[t._v(t._s(e.count))])])])]),t._l(e.children,function(e){return a("ul",{staticClass:"list-group"},[t.selectedListItem==e?a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center active border-warning",staticStyle:{"padding-left":"10px"},attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.selectLocation(e)}}},[a("div",{staticClass:"col-sm-10 col-md-10 px-1"},[t._v(t._s(e.name)+"\n                          "),a("span",{staticClass:"badge badge-warning badge-pill mx-1"},[t._v(t._s(e.organId))])]),a("div",{staticClass:"col-sm-2 col-md-2"},[a("span",{staticClass:"badge badge-pill",class:(e.count,"badge-warning")},[t._v(t._s(e.count))])])]):a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center",staticStyle:{"padding-left":"10px"},attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.selectLocation(e)}}},[a("div",{staticClass:"col-sm-10 col-md-10 px-1"},[t._v(t._s(e.name)+"\n                          "),a("span",{staticClass:"badge badge-dark badge-pill mx-1"},[t._v(t._s(e.organId))])]),a("div",{staticClass:"col-sm-2 col-md-2"},[a("span",{staticClass:"badge badge-pill",class:e.count>0?"badge-warning":"badge-dark"},[t._v(t._s(e.count))])])])])})],2)])])])}),0)])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[t._m(3),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-x":"auto","overflow-y":"auto"}},[a("div",{staticClass:"row",attrs:{id:"clients-grop"}},[a("div",{staticClass:"col",attrs:{"data-spy":"scroll","data-target":"#clients-grop","data-offset":"0"}},[a("div",{staticClass:"card-group"},t._l(t.clientList,function(e){return a("div",{staticClass:"col-sm-4 col-md-3"},[a("div",{staticClass:"card card-accent-warning"},[a("div",{staticClass:"card-header bg-dark"},[t._v("\n                        "+t._s(e.clientName)+"\n                        "),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.delClient(e)}}},[a("i",{staticClass:"icon-close"})])])]),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col"},[a("p",{staticClass:"card-title"},[t._v(t._s(t.getBoardComposition(e)))]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("\n                              클라이언트ID : "+t._s(e.clientId)),a("br"),t._v("\n                              모니터수 : "+t._s(e.boards.length)+"개"),a("br"),t._v("\n                              모니터형태 : "+t._s(t.getLayoutTypeName(e))),a("br"),t._v("\n                              모니터별 해상도 : "+t._s(t.getResolution(e))),a("br"),t._v("\n                              전체해상도 : "+t._s(t.getTotalResolution(e))),a("br"),t._v("\n                              IP : "+t._s(e.clientIp)),a("br"),t._v("\n                              동작여부 : "+t._s(t.getStatusDisplayName(e))),a("br")]),1===e.status?a("small",{staticClass:"text-success"},[t._v("\n                              "+t._s(t.getStatusDisplayName(e))),a("br")]):a("small",{staticClass:"text-muted"},[t._v("\n                              "+t._s(t.getStatusDisplayName(e))),a("br")])]),a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-success btn-sm mx-2",on:{click:function(a){return t.settingBoard(e)}}},[t._v("게시판설정")])])])])])])}),0)])])])])])])])])])},wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("지점관리")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("지점목록")]),a("div",{staticClass:"card-header-actions"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n                      노원 구청\n                    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("지점에 설치된 클라이언트 목록")])])}],xa="/client/dboard",Ta={components:{TreeList:se},created:function(){this.getLocation()},data:function(){return{selectedListItem:null,treeData:{name:"지점목록",children:[]},clientList:[]}},methods:{delClient:function(t){var e=this;confirm("클라이언트를 삭제하시겠습니까?")?(this.$log.debug("delete Client ",t.clientId),p["a"].client.deleteClient(t.clientId).then(function(t){if(e.$log.debug("delete Client result => ",t),200!==t.data.result)throw new Error(t.data.resultMsg);e.$log.debug("delete Client result : 성공 "),alert("클라이언트가 삭제되었습니다")}).catch(function(t){e.$log.error("delete Client error ",t),alert("클라이언트 삭제에 실패했습니다\n("+t.message+")")}),setTimeout(function(){e.selectLocation(e.selectedListItem)},500)):this.$log.debug("클라이언트 삭제 안함 : ["+t.clinetName+",("+t.clientId+")]")},settingBoard:function(t){this.$log.debug("게시판 설정 페이지로 이동",t),this.$router.push({path:xa,query:{clientId:t.clientId}})},getStatusDisplayName:function(t){var e=Object.keys(rt).find(function(e){return rt[e].value===t.status});return e?rt[e].displayName:""},getLayoutTypeName:function(t){return t.boards.length>0?0==t.boards[0].layoutType?"가로형":"세로형":"설정된 모니터없음"},getResolution:function(t){return t.boards.length>0?t.boards[0].width+"x"+t.boards[0].height:"설정된 모니터없음"},getTotalResolution:function(t){var e,a;return t.boards.length>0?(e=t.boards.reduce(function(t,e){return t.width+=e.width,t},{width:0,height:t.boards[0].height}),a=e.width+"x"+e.height):a="설정된 모니터없음",a},getBoardComposition:function(t){var e=t.boards.reduce(function(t,e){switch(e.boardType){case H.ANNOUNCE:t.announce++;break;case H.PROMOTION:t.promotion++;break}return t},{announce:0,promotion:0});return"공고문("+e.announce+"개), 홍보용 ("+e.promotion+"개)"},getLocation:function(){var t=this;p["a"].organ.getLocation().then(function(e){t.$log.debug("get locations ",e),200===e.data.result?t.treeData.children=e.data.list.filter(function(t){return 1===t.depth}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parentId===t.organId}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parantId===t.organId}),t}),t}):alert("지점 조회를 실패했습니다. ("+e.data.resultMsg+")")}).catch(function(t){alert("지점 조회를 실패했습니다. ("+t.message+")")})},selectLocation:function(t){var e=this;this.$log.debug("select location ",t),p["a"].client.getOrganClients(t.organId).then(function(t){if(e.$log.debug("get organ clients ",t),200!==t.data.result)throw new Error(t.data.resultMsg);e.clientList=t.data.list}).catch(function(t){e.$log.error("get organ clients error ",t),alert("클라이언트 목록을 가져오는 것을 실패했습니다\n("+t.message+")")}),this.selectedListItem=t},makeLocationDisplayName:function(t){return t.organId?t.name+"("+t.organId+")":t.name}}},Ea=Ta,Sa=(a("49a5"),Object(f["a"])(Ea,ka,wa,!1,null,null,null)),Da=Sa.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-people mx-1"},[t._v(" 목록\n                "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.userList.length))]),a("div",{staticClass:"card-header-actions"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.goRequestPermission()}}},[a("i",{staticClass:"icon-paper-plane",staticStyle:{"padding-right":"3px"}}),t._v("권한요청 내역")])])])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var a=t.allChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allChecked=a.concat([i])):r>-1&&(t.allChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allChecked=n}}})]),a("th",[t._v("\n                              사진\n                            ")]),a("th",[t._v("\n                                ID\n                            ")]),a("th",[t._v("\n                                이름\n                                ")]),a("th",[t._v("\n                                소속\n                            ")]),a("th",[t._v("\n                                연락처\n                            ")]),a("th",[t._v("\n                                E-Mail\n                            ")]),a("th",[t._v("\n                                권한\n                            ")]),a("th",[t._v("\n                                할당된 지점\n                            ")]),a("th")])]),a("tbody",t._l(t.userList,function(e){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"user.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)}}})]),a("td",[a("i",{staticClass:"fa fa-photo",staticStyle:{"padding-right":"3px"}}),a("img",{attrs:{src:e.img,alt:""}})]),a("td",{style:"admin"!=e.userId?"color: orange;":"color: red;"},[a("i",{staticClass:"fa fa-user",staticStyle:{"padding-right":"3px"}}),t._v("\n                              "+t._s(e.userId)+"\n                            ")]),a("td",[a("a",{staticClass:"text-primary"},[a("i",{staticClass:"fa fa-tag",staticStyle:{"padding-right":"3px",color:"primary"}}),a("strong",[t._v(t._s(e.userName))])])]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.organName&&e.organName.length>0,expression:"user.organName && user.organName.length > 0"}],staticClass:"fa fa-sitemap",staticStyle:{"padding-right":"3px"}}),t._v("\n                              "+t._s(e.organName)+"\n                            ")]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.telNum&&e.telNum.length>0,expression:"user.telNum && user.telNum.length > 0"}],staticClass:"fa fa-phone",staticStyle:{"padding-right":"3px"}}),t._v("\n                              "+t._s(e.telNum)+"\n                            ")]),a("td",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.email&&e.email.length>0,expression:"user.email && user.email.length > 0"}],staticClass:"fa fa-envelope",staticStyle:{"padding-right":"3px"}}),t._v("\n                              "+t._s(e.email)+"\n                            ")]),a("td",[a("i",{class:t.getDisplayRolesIcon(e),staticStyle:{"padding-right":"3px",color:"red"}}),t._v("\n                              "+t._s(t.getDisplayRoles(e))+"\n                            ")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.organs&&e.organs.length>0,expression:"user.organs && user.organs.length > 0"}],staticClass:"dropdown"},[a("button",{staticClass:"btn btn-ghost-info dropdown-toggle col-offset-6",attrs:{id:"alllocations",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                                  "+t._s(e.organs&&e.organs[0]?e.organs[0].organName:"")+"\n                                ")]),a("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, -356px, 0px)"},attrs:{"x-placement":"top-start"}},[a("textarea",{staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"4",placeholder:"할당된 지점",readonly:""}},[t._v(t._s(t.getLocationDisplay(e)))])])])]),a("td",[a("button",{staticClass:"btn btn-outline-warning btn-update btn-sm",on:{click:function(a){return t.goAllowRole(e)}}},[t._v("\n                                    권한변경\n                                ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"admin"!=e.userId,expression:"user.userId != 'admin'"}],staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.deleteUser(e)}}},[t._v("\n                                    삭제\n                                ")])])])}),0)])])])])])},Pa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("사용자관리")])])}],Na="/user/setting",Ia="/user/reqestPermission",Aa={data:function(){return{allChecked:!1,pagination:{pageNum:1,pageCount:10,totalCount:1},userList:[{img:"",name:"사용자1",location:"",phone:"010-xxxx-xxxx",email:"xxx@gmail.com",permissions:"공,홈"}]}},computed:{totalPage:function(){return Math.ceil(this.pagination.totalCount/this.pagination.pageCount)}},created:function(){this.getUser()},methods:{goRequestPermission:function(){this.$log.debug("권한 요청 내역 페이지로 이동"),this.$router.push({path:Ia,query:{}})},goAllowRole:function(t){this.$router.push({path:Na,query:{userId:t.userId,prevPage:this.$route.name}})},getUser:function(){var t=this;p["a"].user.getUser().then(function(e){if(t.$log.debug("get user result ",e),200!==e.data.result)throw new Error(e.data.resultMsg);t.userList=e.data.list}).catch(function(t){alert("사용자 정보를 조회하는 것을 실패했습니다\n("+t.message+")")})},deleteUser:function(t){var e=this,a="사용자["+t.userName+"]를 삭제하시겠습니까?";confirm(a)&&p["a"].user.deleteUser(t.userId).then(function(t){if(e.$log.debug("delete user result ",t),200!==t.data.result)throw new Error(t.data.resultMsg);alert("사용자 삭제를 완료하였습니다."),e.getUser()}).catch(function(t){alert("사용자 삭제를 실패했습니다\n("+t.message+")")})},getDisplayRolesIcon:function(t){var e;return null!=t.roles&&(e=t.roles.map(function(t){return null!=t?t.roleName:""}).join(","),""!=e)?"fa fa-key":""},getDisplayRoles:function(t){return null!=t.roles?t.roles.map(function(t){return null!=t?t.roleName:""}).join(","):""},getLocationDisplay:function(t){return null!=t.organs?t.organs.map(function(t){return t.organName}).join(","):""}}},Oa=Aa,Ma=(a("cfbb"),Object(f["a"])(Oa,$a,Pa,!1,null,null,null)),ja=Ma.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("사용자 정보")]),a("div",{staticClass:"card-header-actions"},[1==t.isAvailableNewUser?a("button",{staticClass:"btn btn-primary",on:{click:t.addNewUser}},[a("i",{staticClass:"icon-user px-2"}),t._v(t._s(t.thisPage.title))]):t._e()])]),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-y":"auto"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-md-4"},[a("div",{staticClass:"row col user-image",staticStyle:{"min-height":"200px","max-height":"200px"}},[a("img",{staticClass:"d-block w-100",attrs:{src:t.user.photoPath,alt:"사용자 사진"}})])]),a("div",{staticClass:"col-sm-9 col-md-8"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("이름")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userName,expression:"user.userName"}],staticClass:"form-control",attrs:{readonly:t.isReadOnlyMode,type:"text",placeholder:"이름을 입력하세요."},domProps:{value:t.user.userName},on:{input:function(e){e.target.composing||t.$set(t.user,"userName",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("소속")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.organName,expression:"user.organName"}],staticClass:"form-control",attrs:{readonly:t.isReadOnlyMode,type:"text",placeholder:"소속 입력하세요."},domProps:{value:t.user.organName},on:{input:function(e){e.target.composing||t.$set(t.user,"organName",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("연락처")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.telNum,expression:"user.telNum"}],staticClass:"form-control",attrs:{readonly:t.isReadOnlyMode,type:"text",placeholder:"연락처를 입력하세요."},domProps:{value:t.user.telNum},on:{input:function(e){e.target.composing||t.$set(t.user,"telNum",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("E-mail")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{readonly:t.isReadOnlyMode,type:"text",placeholder:"E-mail을 입력하세요."},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("사용자 ID")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userId,expression:"user.userId"}],staticClass:"form-control",attrs:{readonly:t.isReadOnlyMode,type:"text",placeholder:"사용자 ID를 입력하세요."},domProps:{value:t.user.userId},on:{input:function(e){e.target.composing||t.$set(t.user,"userId",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"text-input"}},[t._v("사용자 암호")]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userPass,expression:"user.userPass"}],staticClass:"form-control",attrs:{id:"hf-password",type:"password",name:"hf-password",placeholder:"사용자 암호를 입력하세요.",autocomplete:"new-password"},domProps:{value:t.user.userPass},on:{input:function(e){e.target.composing||t.$set(t.user,"userPass",e.target.value)}}})])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"collapse show",attrs:{id:"setRole"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"card card-accent-primary"},[t._m(7),a("div",{staticClass:"card-body"},[1==t.isAdaminAccount?a("div",{attrs:{clas:"isAdmin"}}):a("div",{staticClass:"notAdmin"},t._l(t.roles,function(e){return 1==t.isAvailableNewUser?a("div",{staticClass:"list-group"},[t.selectedRoleItem===e?a("a",{staticClass:"listlist-group-item list-group-item-action active",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.addRoleToMyRole(e)}}},[t._v(t._s(e.roleName))]):a("a",{staticClass:"listlist-group-item list-group-item-action",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.addRoleToMyRole(e)}}},[t._v(t._s(e.roleName))])]):t._e()}),0)])])]),a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"card card-accent-success"},[a("div",{staticClass:"card-header"},[t._v("\n                          소유 권한\n                        ")]),a("div",{staticClass:"card-body"},[1==t.isAdaminAccount?a("div",{attrs:{clas:"isAdmin"}},t._l(t.user.roles,function(e){return a("div",{staticClass:"list-group"},[a("a",{staticClass:"listlist-group-item active"},[t._v(t._s(e.roleName))])])}),0):a("div",{staticClass:"notAdmin"},[t.user.roles&&t.user.roles[0]?a("div",{staticClass:"list-group"},t._l(t.user.roles,function(e){return a("div",{staticClass:"list-group"},[t.selectedMyRoleItem===e?a("a",{staticClass:"listlist-group-item list-group-item-action active",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.deleteMyRole(e)}}},[t._v(t._s(e.roleName))]):a("a",{staticClass:"listlist-group-item list-group-item-action",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.deleteMyRole(e)}}},[t._v(t._s(e.roleName))])])}),0):t._e()])])])])])])])])])])])])]),a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[t._m(8),a("div",{staticClass:"collapse show",attrs:{id:"setLocation"}},[a("div",{staticClass:"card-body",staticStyle:{"min-height":"635px","max-height":"635px"}},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("div",{staticClass:"card card-accent-success"},[a("div",{staticClass:"card-header"},[t._v("\n                지점 목록\n                "),a("span",{staticClass:"badge badge-info badge-pill mx-3"},[t._v(t._s(t.checkedLocationCount)+"개 선택됨")]),a("div",{staticClass:"card-header-actions"},[1==t.isAdaminAccount?a("div",{attrs:{clas:"isAdmin"}}):a("div",{staticClass:"notAdmin"},[1==t.isAvailableNewUser?a("div",{staticClass:"form-check checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allLocationChecked,expression:"allLocationChecked"}],staticClass:"form-check-input",attrs:{id:"allLocation",type:"checkbox"},domProps:{checked:Array.isArray(t.allLocationChecked)?t._i(t.allLocationChecked,null)>-1:t.allLocationChecked},on:{change:function(e){var a=t.allLocationChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allLocationChecked=a.concat([i])):r>-1&&(t.allLocationChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allLocationChecked=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"allLocation"}},[t._v("모든 지점 할당")])]):t._e()])])]),a("div",{staticClass:"card-body",staticStyle:{"min-height":"530px","max-height":"530px","overflow-x":"auto","overflow-y":"auto"}},[1==t.isAdaminAccount?a("div",{attrs:{clas:"isAdmin"}},t._l(t.locations.children,function(e,s){return a("div",{staticClass:"list-group"},[a("a",{staticClass:"listlist-group-item active"},[t._v(t._s(e.name))]),t._l(e.children,function(e){return a("div",{staticClass:"list-group"},[a("a",{staticClass:"listlist-group-item active"},[t._v(t._s(e.name))])])})],2)}),0):a("div",{staticClass:"notAdmin"},[1==t.isAvailableNewUser?a("div",{staticClass:"row col"},t._l(t.locations.children,function(e,s){return a("div",{staticClass:"form-group px-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"location.checked"}],staticClass:"form-check-input",attrs:{id:e.organId,type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)},function(e){return t.locationChecked(e)}]}}),a("label",{staticClass:"form-check-label",attrs:{for:e.organId}},[t._v(t._s(e.name))]),1==e.checked?a("span",{staticClass:"badge badge-info badge-pill mx-3"},[t._v("선택됨")]):t._e(),a("div",{staticClass:"row"}),t._l(e.children,function(s){return e.children.length>0?a("div",{staticClass:"form-group px-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.checked,expression:"location2.checked"}],staticClass:"form-check-input",attrs:{id:s.organId,type:"checkbox"},domProps:{checked:Array.isArray(s.checked)?t._i(s.checked,null)>-1:s.checked},on:{change:[function(e){var a=s.checked,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&t.$set(s,"checked",a.concat([r])):o>-1&&t.$set(s,"checked",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(s,"checked",i)},function(e){return t.locationChecked(e)}]}}),a("label",{staticClass:"form-check-label",attrs:{for:s.organId}},[t._v(t._s(s.name))]),1==s.checked?a("span",{staticClass:"badge badge-info badge-pill mx-3"},[t._v("선택됨")]):t._e()]):t._e()})],2)}),0):t._e()])])])])])])])])])])])])},Ya=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("사용자추가")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-user"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-sitemap"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-phone"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-envelope"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-key"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-lock"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[t._v("\n                          권한 목록\n                          "),a("div",{staticClass:"card-header-actions"},[a("i",{staticClass:"icon-arrow-right-circle px-2"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("지점 할당")]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#setLocation","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])])])}],Ua="/user",Ra={data:function(){return{isReadOnlyMode:!1,isAvailableNewUser:!0,isAdaminAccount:!1,allLocationChecked:!0,checkedLocationCount:0,thisPage:{title:"",userId:"",prevPageName:"",prevPageType:""},aliasUserPass:"",user:{},roles:[{roleName:"총괄관리자",roleId:"1"},{roleName:"공고문관리자",roleId:"2"},{roleName:"홍보물관리자",roleId:"3"},{roleName:"테스트사용자",roleId:"4"},{roleName:"공고문게시자",roleId:"5"},{roleName:"홍보물게시자",roleId:"6"}],locations:{name:"지점목록",children:[]},selectedRoleItem:null,selectedMyRoleItem:null}},watch:{allLocationChecked:function(t){var e=this;this.checkedLocationCount=0,this.locations.children.forEach(function(a){a.checked=t,1==a.checked&&(e.checkedLocationCount+=1),a.children.length>0&&a.children.forEach(function(a){a.checked=t,1==a.checked&&(e.checkedLocationCount+=1)})})}},compute:{},methods:{locationChecked:function(){var t=0;this.locations.children.forEach(function(e){1==e.checked&&(t+=1),e.children.length>0&&e.children.forEach(function(e){1==e.checked&&(t+=1)})}),this.$log.debug("location checked count :",t),this.checkedLocationCount=t},goUserManagement:function(){this.$log.debug("사용자 관리 페이지로 이동",this.$route.name),this.$router.push({path:Ua,query:{}})},addNewUser:function(){var t=this;this.$log.debug("userSetting :  -> ",this.thisPage.title,this.user.userId);var e,a=this.user.userName+" : "+this.thisPage.title+" 하시겠습니까?";confirm(a)&&(e=this.locations.children.reduce(function(t,e){return e.children.length>0&&(t=e.children.reduce(function(t,e){return e.checked&&t.push({organId:e.organId,organName:e.name}),t},[])),e.checked&&t.push({organId:e.organId,organName:e.name}),t},[]),this.user.organs=e.slice(),this.user.sabun=this.user.userId,0==this.isReadOnlyMode||"organizationChart"==this.thisPage.prevPageName?p["a"].user.addUser(this.user).then(function(e){t.$log.debug("add user -> ",e),200===e.data.result?(alert("사용자 등록이 완료되었습니다."),t.goUserManagement()):alert("사용자 등록이 실패했습니다. ("+e.data.resultMsg+")")}).catch(function(t){alert("사용자 등록이 실패했습니다. ("+t.message+")")}):p["a"].user.updateUser(this.user).then(function(e){t.$log.debug("update user -> ",e),200===e.data.result?(alert("사용자 수정이 완료되었습니다."),t.goUserManagement()):alert("사용자 수정이 실패했습니다. ("+e.data.resultMsg+")")}).catch(function(t){alert("사용자 수정이 실패했습니다. ("+t.message+")")}))},addRoleToMyRole:function(t){var e=this;if(this.user.roles){var a=!1;if(this.user.roles[0])this.user.roles.some(function(e,a){if(e.roleId===t.roleId)return!0});0==a&&(this.user.roles.push({roleName:t.roleName,roleId:t.roleId}),this.$log.debug("권한 추가 (id, role) -> ",this.user.roles.length,this.thisPage.userId?this.thisPage.userId:this.user.userId,t.roleName)),this.roles.some(function(a,s){if(a.roleId===t.roleId)return e.roles.splice(s,1),!0})}},deleteMyRole:function(t){var e=this;this.$log.debug("권한 삭제 호출됨 -> ",t.roleName),this.user.roles&&this.user.roles[0]&&this.user.roles.some(function(a,s){if(e.$log.debug("권한 검색 -> ",t.roleName,a.roleName),a.roleId===t.roleId)return e.$log.debug("권한 삭제 -> ",e.thisPage.userId?e.thisPage.userId:e.user.userId,a.roleName),e.user.roles.splice(s,1),e.roles.push({roleName:t.roleName,roleId:t.roleId}),!0})},getLocation:function(){var t=this;this.$log.debug("userSetting : getLocation() 얻기"),this.thisPage.userId&&(this.allLocationChecked=!1),p["a"].organ.getLocation().then(function(e){if(t.$log.debug("get locations ",e),200===e.data.result){t.user.organs&&e.data.list.forEach(function(e){e.checked=!1,t.user.organs.forEach(function(a){e.organId===a.organId&&(e.checked=!0,t.checkedLocationCount+=1)})});var a=0;t.locations.children=e.data.list.filter(function(t){return 1===t.depth}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parentId===t.organId}).map(function(t){return t.children=e.data.list.filter(function(e){return e.parantId===t.organId}),a++,t}),a++,t}),t.$log.debug("할당된지점수, 지점수",t.checkedLocationCount,a),t.checkedLocationCount>0&&t.checkedLocationCount==a&&(t.allLocationChecked=!0)}else alert("지점 조회를 실패했습니다. ("+e.data.resultMsg+")")}).catch(function(t){alert("지점 조회를 실패했습니다. ("+t.message+")")})},getUserInfoByPrevPage:function(){var t=this;this.$log.debug("userSetting : getUserInfo() 이전페이지에 의해 다르게 요청함 -> ",this.thisPage.userId,this.thisPage.prevPageType),p["a"].user.getUserInfo(this.thisPage.userId,this.thisPage.prevPageType).then(function(e){t.$log.debug("get usefInfo ",e),200===e.data.result?(t.user=e.data.data,t.user.userPass="",t.user&&t.user.roles&&(t.user.roles[0]?t.user.roles.forEach(function(e){return t.roles.some(function(a,s){if(a.roleId===e.roleId)return t.roles.splice(s,1),!0})}):t.user.roles.splice(0,1))):alert("사용자 조회를 실패했습니다. ("+e.data.resultMsg+")")}).catch(function(t){alert("사용자 조회를 실패했습니다. ("+t.message+")")})},getUserInfo:function(){this.$log.debug("userSetting : getUserInfo() 얻기 -> ",this.thisPage.userId,this.thisPage.prevPageName),"organizationChart"==this.thisPage.prevPageName?(this.thisPage.prevPageType=0,this.getUserInfoByPrevPage()):"userManagement"==this.thisPage.prevPageName&&(this.thisPage.prevPageType=1,this.getUserInfoByPrevPage())}},created:function(){this.$log.debug("userId : ",this.$route.query.userId,this.$route.query.prevPage),this.$route.query.userId?("admin"===this.$route.query.userId&&(this.isAdaminAccount=!0),"organizationChart"==this.$route.query.prevPage?this.thisPage.title="사용자등록":this.thisPage.title="사용자수정",this.isReadOnlyMode=!0,this.thisPage.userId=this.$route.query.userId,this.thisPage.prevPageName=this.$route.query.prevPage,this.getUserInfo(this.thisPage.userId)):(this.isReadOnlyMode=!0,this.isAvailableNewUser=!1,this.thisPage.title="사용자등록",this.isReadOnlyMode=!1,this.allLocationChecked=!1,this.thisPage.prevPageName=this.$route.query.prevPage,this.user={userId:"",userName:"",organName:"노원구",email:"",telNum:"",userPass:"",photoPath:"",roles:[],organs:[],organId:"3100000",department:"노원구",userInfo:"",sabun:""}),this.getLocation()},mounted:function(){},components:{}},qa=Ra,Ha=(a("329e"),Object(f["a"])(qa,La,Ya,!1,null,null,null)),Fa=Ha.exports,Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("권한 요청 정보")]),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.requestedPermission.length))]),a("div",{staticClass:"card-header-actions"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.refreshRequestPermission()}}},[a("i",{staticClass:"icon-refresh",staticStyle:{"padding-right":"3px"}}),t._v("갱신")])])]),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-x":"auto","overflow-y":"auto"}},[a("div",{staticClass:"row"},t._l(t.requestedPermission,function(e,s){return a("div",{staticClass:"col-sm-4 col-md-2"},[a("div",{staticClass:"card card-accent-warning"},[a("div",{staticClass:"card-header"},[a("span",{staticClass:"badge rounded-pill badge-success float-right"},[t._v(t._s(s+1))]),a("strong",[t._v(t._s(t.getRequestedPermission(e)))])]),a("div",{staticClass:"card-body py-1 ml-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"justify-content-start align-self-center"},[a("a",{staticClass:"card-title text-primary"},[t._v(t._s(e.userName))]),a("br"),a("small",{staticClass:"text-muted"},[t._v("\n\t\t\t\t\t\t\t    ID : "+t._s(e.userId)),a("br"),t._v("\n\t\t\t\t\t\t\t\t소속 : "+t._s(e.organName)),a("br"),t._v("\n\t\t\t\t\t\t\t\t업무 : "+t._s(e.duty)),a("br"),t._v("\n\t\t\t\t\t\t\t\t신청일: "+t._s(e.createDate)),a("br")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[a("button",{staticClass:"btn btn-outline-warning btn-sm mx-2 my-2",on:{click:function(a){return t.allowRole(e)}}},[t._v("권한부여")]),a("button",{staticClass:"btn btn-outline-secondary btn-sm mx-2 my-2",on:{click:function(a){return t.refuseRole(e)}}},[t._v("요청거부")])])])])])])}),0)])])])])},Ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("권한 요청")])])}],za={components:{},data:function(){return{requestedPermission:[]}},methods:{getRequirePermission:function(){var t=this;p["a"].user.getRequestPermission().then(function(e){var a;if(200!==e.data.result)throw a=new Error(e.data.resultMsg),a.resultData=e.data,a;t.$log.debug("권한 요청 목록 조회 성공 ",e.data),t.requestedPermission=e.data.list}).catch(function(e){t.$log.error("권한 요청 목록 조회 실패 ",e),alert("권한 요청 목록 조회에 실패했습니다.\n"+e.message)})},getRequestedPermission:function(t){if(this.requestedPermission&&this.requestedPermission.length>0)return null!=t.roles?t.roles.map(function(t){return null!=t?t.roleName:""}).join(","):""},allowRole:function(t){var e,a=this;confirm("권한 부여 하시겠습니까?")&&(this.$log.debug("권한 부여-> ",t.reqId,t.userName),e={reqId:t.reqId,isAccept:"Y"},p["a"].user.allowRequestedPermission(e).then(function(t){var e;if(200!==t.data.result)throw e=new Error(t.data.resultMsg),e.resultData=t.data,e;a.$log.debug("권한 부여 성공 ",t.data),a.getRequirePermission(),alert("권한 요청이 수락되었습니다.")}).catch(function(t){a.$log.error("권한 부여 실패 ",t),alert("권한 부여에 실패했습니다.\n"+t.message)}))},refuseRole:function(t){var e,a=this;confirm("권한 부여 요청을 거부 하시겠습니까?")&&(this.$log.debug("권한 부여 요청 거부 -> ",t.reqId,t.userName),e={reqId:t.reqId,isAccept:"D"},p["a"].user.refuseRequestedPermission(e).then(function(t){var e;if(200!==t.data.result)throw e=new Error(t.data.resultMsg),e.resultData=t.data,e;a.$log.debug("권한 부여 요청 거부 성공 ",t.data),a.getRequirePermission(),alert("권한 요청이 거부되었습니다.")}).catch(function(t){a.$log.error("권한 부여 요청 거부 실패 ",t),alert("권한 부여 요청 거부에 실패했습니다.\n"+t.message)}))},refreshRequestPermission:function(){this.getRequirePermission()}},created:function(){this.getRequirePermission()}},Wa=za,Va=(a("d6b0"),Object(f["a"])(Wa,Ba,Ga,!1,null,null,null)),Ja=Va.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("클라이언트 목록")]),a("div",{staticClass:"card-header-actions"},[a("button",{staticClass:"btn btn-primary",on:{click:t.goSchedule}},[a("i",{staticClass:"icon-settings",staticStyle:{"padding-right":"3px"}}),t._v("동작스케쥴설정")])])]),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-x":"auto","overflow-y":"auto"},attrs:{id:"clients-grop"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col",attrs:{"data-spy":"scroll","data-target":"#clients-grop","data-offset":"0"}},[a("div",{staticClass:"card-group"},t._l(t.clients,function(e){return a("div",{staticClass:"col-sm-4 col-md-3"},[a("div",{staticClass:"card",class:t.getStatusCardType(e)},[a("div",{staticClass:"card-header bg-dark"},[t._v("\n                              "+t._s(e.clientName)+"\n                              "),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.delClient(e)}}},[a("i",{staticClass:"icon-close"})])])]),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col-8"},[a("p",{staticClass:"card-title"},[t._v(t._s(t.getBoardComposition(e)))]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("\n                                    소속지점 : "+t._s(e.organName)+"("+t._s(e.organId)+")"),a("br"),t._v("\n                                    클라이언트 ID : "+t._s(e.clientId)),a("br"),t._v("\n                                    모니터 수 : "+t._s(e.boards.length)+"개"),a("br"),t._v("\n                                    모니터 형태 : "+t._s(t.getLayoutTypeName(e))),a("br"),t._v("\n                                    모니터별 해상도 : "+t._s(t.getResolution(e))),a("br"),t._v("\n                                    전체해상도 : "+t._s(t.getTotalResolution(e))),a("br"),t._v("\n                                    IP : "+t._s(e.clientIp)),a("br"),t._v("\n                                    동작여부 :\n                                    ")]),e.status>0?a("small",{class:t.getStatusTextType(e)},[t._v("\n                                    "+t._s(t.getStatusDisplayName(e))),a("br")]):a("small",{staticClass:"text-muted"},[t._v("\n                                    "+t._s(t.getStatusDisplayName(e))),a("br")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[t._v("\n                                        활성화\n                                    ")]),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-pill switch-label switch-outline-primary"},[a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{click:function(a){return t.changeStatus(e)}}}),a("span",{staticClass:"switch-slider",attrs:{"data-checked":"On","data-unchecked":"Off"}})])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-success btn-sm w-100 p-2",on:{click:function(a){return t.settingBoard(e)}}},[t._v("게시판설정")])]),a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm w-100 p-2",on:{click:function(a){return t.playAndStop(e)}}},[t._v("재생  중지")])]),a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm w-100 p-2",on:{click:function(a){return t.viewLog(e)}}},[t._v("로그 보기 ")])]),a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm w-100 p-2",on:{click:function(a){return t.clientReboot(e)}}},[t._v("원격재시작")])]),a("div",{staticClass:"row justify-content-end"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm w-100 p-2",on:{click:function(a){return t.clientOff(e)}}},[t._v("원격 종료 ")])])])])])])}),0)])])])])])])])])},Qa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("클라이언트 관리")])])}],Xa={PLAY:"PLAY",STOP:"STOP",REBOOT:"REBOOT",POWEROFF:"POWEROFF"},Za="/client/dboard",ts="/client/schedule",es={data:function(){return{clients:[]}},methods:{getStatusCardType:function(t){return t.status==rt.INACTIVE.value?"card-accent-secondary":t.status==rt.ACTIVE.value?"card-accent-primary":t.status==rt.PLAY.value?"card-accent-success":t.status==rt.STOP.value?"card-accent-warning":t.status==rt.ERROR.value?"card-accent-danger":void 0},getStatusTextType:function(t){return t.status==rt.INACTIVE.value?"text-secondary":t.status==rt.ACTIVE.value?"text-primary":t.status==rt.PLAY.value?"text-success":t.status==rt.STOP.value?"text-warning":t.status==rt.ERROR.value?"text-danger":void 0},goSchedule:function(){this.$log.debug("클라이언트 동작 설정 페이지로 이동"),this.$router.push({path:ts,query:{}})},getClients:function(){var t=this;p["a"].client.getClient().then(function(e){t.$log.debug("클라이언트 조회 ",e),200===e.data.result?(t.clients=e.data.list,t.clients.forEach(function(t){t.status==rt.INACTIVE.value?t.checked=!1:t.checked=!0})):alert("클라이언트 조회를 실패했습니다 ("+e.data.resultMsg+")")}).catch(function(t){alert("클라이언트 조회를 실패했습니다 ("+t.message+")")})},delClient:function(t){var e=this;confirm("클라이언트를 삭제하시겠습니까?")?(this.$log.debug("delete Client ",t.clientId),p["a"].client.deleteClient(t.clientId).then(function(t){if(e.$log.debug("delete Client result => ",t),200!==t.data.result)throw new Error(t.data.resultMsg);e.$log.debug("delete Client result : 성공 "),alert("클라이언트가 삭제되었습니다")}).catch(function(t){e.$log.error("delete Client error ",t),alert("클라이언트 삭제에 실패했습니다\n("+t.message+")")}),setTimeout(function(){e.getClients()},500)):this.$log.debug("클라이언트 삭제 안함 : ["+t.clinetName+",("+t.clientId+")]")},changeStatus:function(t){t.status===rt.INACTIVE.value?confirm("활성화 하시겠습니까?")?(t.status=rt.ACTIVE.value,t.checked=!0):t.checked=!1:t.status>rt.INACTIVE.value&&(confirm("비활성화 하시겠습니까?")?(t.status=rt.INACTIVE.value,t.checked=!1):t.checked=!0)},getStatusDisplayName:function(t){var e=Object.keys(rt).find(function(e){return rt[e].value===t.status});return e?rt[e].displayName:""},getLayoutTypeName:function(t){return t.boards.length>0?0==t.boards[0].layoutType?"가로형":"세로형":"설정된 모니터없음"},getResolution:function(t){return t.boards.length>0?t.boards[0].width+"x"+t.boards[0].height:"설정된 모니터없음"},getTotalResolution:function(t){var e,a;return t.boards.length>0?(e=t.boards.reduce(function(t,e){return t.width+=e.width,t},{width:0,height:t.boards[0].height}),a=e.width+"x"+e.height):a="설정된 모니터없음",a},getBoardComposition:function(t){var e=t.boards.reduce(function(t,e){switch(e.boardType){case H.ANNOUNCE:t.announce++;break;case H.PROMOTION:t.promotion++;break}return t},{announce:0,promotion:0});return"공고문("+e.announce+"개), 홍보용 ("+e.promotion+"개)"},settingBoard:function(t){this.$log.debug("게시판 설정 페이지로 이동",t),this.$router.push({path:Za,query:{clientId:t.clientId}})},playAndStop:function(t){var e=this;this.$log.debug("playAndStop",t.status);var a,s,n,i,r=t.boards[0].activeYn;switch(!0){case/^Y$/i.test(r):a=Xa.STOP,s="클라이언트를 중지하시겠습니까?",n="클라이언트를 중지했습니다.",i="클라이언트 중지를 실패했습니다.";break;case/^N$/i.test(r):a=Xa.PLAY,s="클라이언트를 재생하시겠습니까?",n="클라이언트를 재생했습니다.",i="클라이언트 재생을 실패했습니다.";break}confirm(s)&&p["a"].client.controlClient(t.clientId,a).then(function(t){if(e.$log.debug(a,"result :",t),200!=t.status)throw new Error(t.data.resultMsg);alert(n),setTimeout(function(){e.getClients()},500)}).catch(function(t){e.$log.error(i,t),alert(i+" ("+t.message+")")})},viewLog:function(t){t.status,rt.PLAY.value},clientOn:function(t){if(t.status==rt.PLAY.value){var e=window.external;this.$log.debug("로컬 시스템 ON : systemOn"),e.SystemOn()}},clientOff:function(t){var e=this;confirm("클라이언트를 종료하시겠습니까?")&&p["a"].client.controlClient(t.clientId,Xa.POWEROFF).then(function(t){e.$log.debug("poweroff result :",t),200===t.data.result?alert("클라이언트를 종료했습니다."):new Error(t.data.resultMsg)}).catch(function(t){e.$log.error("클라이언트 종료를 실패했습니다.",t),alert("클라이언트 종료를 실패했습니다. ("+t.message+")")})},clientReboot:function(t){var e=this;confirm("클라이언트를 재시작하시겠습니까?")&&p["a"].client.controlClient(t.clientId,Xa.REBOOT).then(function(t){e.$log.debug("reboot result :",t),200===t.data.result?alert("클라이언트를 재시작했습니다."):new Error(t.data.resultMsg)}).catch(function(t){e.$log.error("클라이언트 재시작을 실패했습니다.",t),alert("클라이언트 재시작을 실패했습니다. ("+t.message+")")})}},created:function(){this.getClients()},components:{}},as=es,ss=(a("d485"),Object(f["a"])(as,Ka,Qa,!1,null,null,null)),ns=ss.exports,is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("지점 ID")]),a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.organId,expression:"client.organId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"지점 ID",readonly:""},domProps:{value:t.client.organId},on:{input:function(e){e.target.composing||t.$set(t.client,"organId",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("클라이언트 명")]),a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.clientName,expression:"client.clientName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"클라이언트명을 입력하세요"},domProps:{value:t.client.clientName},on:{input:function(e){e.target.composing||t.$set(t.client,"clientName",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("클라이언트 ID")]),a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.clientId,expression:"client.clientId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"클라이언트 ID",readonly:""},domProps:{value:t.client.clientId},on:{input:function(e){e.target.composing||t.$set(t.client,"clientId",e.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("설치 위치")]),a("div",{staticClass:"input-group"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.organName,expression:"client.organName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"설치 위치",readonly:""},domProps:{value:t.client.organName},on:{input:function(e){e.target.composing||t.$set(t.client,"organName",e.target.value)}}})])])])]),a("div",{staticClass:"card",staticStyle:{"margin-bottom":"0.7rem"}},[t._m(6),a("div",{staticClass:"collapse show",attrs:{id:"digiBoard"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("모니터수")]),a("div",{staticClass:"input-group"},[t._m(7),a("dropdown",{ref:"monitorCountDropdown",attrs:{items:t.monitorCounts},on:{selectedItem:t.selectMonitorCount}})],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("해상도 타입")]),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.monitorResolutionType,expression:"monitorResolutionType"}],attrs:{type:"radio",name:"resolutionType",value:"1"},domProps:{checked:t._q(t.monitorResolutionType,"1")},on:{change:function(e){t.monitorResolutionType="1"}}}),t._v(" 세로\n                        ")]),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.monitorResolutionType,expression:"monitorResolutionType"}],attrs:{type:"radio",name:"resolutionType",value:"0"},domProps:{checked:t._q(t.monitorResolutionType,"0")},on:{change:function(e){t.monitorResolutionType="0"}}}),t._v(" 가로\n                        ")])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("해상도")]),a("div",{staticClass:"input-group"},[t._m(8),a("dropdown",{ref:"resolutionDropdown",attrs:{items:t.resolutions,"display-attr":"info"},on:{selectedItem:t.selectMonitorResolution}})],1)])])]),a("div",{staticClass:"row",staticStyle:{height:"150px"}},t._l(t.boards_init,function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"board.show"}],staticClass:"col-2 row client-monitor"},[a("div",{staticClass:"col",staticStyle:{"text-align":"center"}},[a("dropdown",{ref:"contentTypeDropdown",refInFor:!0,staticStyle:{"padding-top":"10px"},attrs:{items:t.contentTypes},on:{selectedItem:function(e){null!=t.client.boards[s]&&(t.client.boards[s].boardType=e.value)}}})],1)])}),0)])])]),a("div",{staticClass:"row",staticStyle:{"border-top":"thin solid","padding-bottom":"10px"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.client.clientId,expression:"client.clientId"}],staticClass:"btn btn-primary",on:{click:t.updateClient}},[a("i",{staticClass:"fa fa-send",staticStyle:{"padding-right":"5px"}},[t._v("설정완료")])])])])])])])])])])},rs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("디지털 게시판 설정")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("디지털 게시판")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-sitemap"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-newspaper-o"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-credit-card"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-map-pin"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-layers"}),a("strong",[t._v("디지털 게시판 설정")]),a("div",{staticClass:"card-header-actions"},[a("a",{staticClass:"card-header-action btn-minimize",attrs:{href:"#","data-toggle":"collapse","data-target":"#digiBoard","aria-expanded":"true"}},[a("i",{staticClass:"icon-arrow-up"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-laptop"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-laptop"})])])}];function os(t){return ds(t)||ls(t)||cs()}function cs(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ls(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function ds(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var us,ps={data:function(){return{monitorCounts:Array.from({length:6},function(t,e){var a=e+1;return{displayName:a,value:a}}),resolutions:[],contentTypes:[{displayName:"공고문",value:"001"},{displayName:"홍보용",value:"002"}],boards_init:[{boardType:"001",show:!0},{boardType:"001",show:!1},{boardType:"001",show:!1},{boardType:"001",show:!1},{boardType:"001",show:!1},{boardType:"001",show:!1}],monitorResolutionType:"1",client:{organId:"",clientName:"",clientId:"",boards:[{boardType:"001"},{boardType:"001"},{boardType:"001"},{boardType:"001"},{boardType:"001"},{boardType:"001"}],organName:"",monitorCount:0,resolution:null}}},components:{Dropdown:$e["a"]},watch:{monitorResolutionType:function(t,e){var a=this;this.client.boards.forEach(function(t,e){t.layoutType=a.monitorResolutionType}),this.getResolution()}},methods:{selectMonitorCount:function(t){var e,a=this;this.client.boards.length<t.value?((e=this.client.boards).splice.apply(e,[this.client.boards.length,0].concat(os(Array.from({length:t.value-this.client.boards.length},function(t,e){return{boardType:"001",boardIndex:a.client.boards.length+e,resolutionId:0,layoutType:0}})))),this.boards_init.forEach(function(e,a){a<t.value?e.show=!0:e.show=!1})):this.client.boards.length>t.value&&(this.boards_init.forEach(function(e,a){a<t.value?e.show=!0:e.show=!1}),this.client.boards.splice(this.client.boards.length-(this.client.boards.length-t.value),this.client.boards.length-t.value))},selectMonitorResolution:function(t){this.client.resolution=t},getResolution:function(){var t=this;this.$log.debug("getResolution () : monitorResolutionType ",this.monitorResolutionType),p["a"].code.getResolution(parseInt(this.monitorResolutionType)).then(function(e){var a;t.$log.debug("getResolution ",e.data),t.resolutions.splice(0,t.resolutions.length),(a=t.resolutions).splice.apply(a,[0,0].concat(os(e.data.list))),t.$log.debug("getResolution ",t.resolutions);var s=t.resolutions[0];0==t.monitorResolutionType?t.resolutions.forEach(function(t){1920==t.width&1080==t.height&&(s=t)}):t.resolutions.forEach(function(t){1080==t.width&1920==t.height&&(s=t)}),t.$refs.resolutionDropdown.selectItem(s)}).catch(function(e){return t.$log.error("getResolution error ",e)})},updateClient:function(){var t=this;""!==this.client.clientName?(this.client.boards.forEach(function(e,a){e.layoutType=t.monitorResolutionType,e.resolutionId=t.client.resolution.resolutionId}),p["a"].client.updateClient(this.client).then(function(e){if(t.$log.debug("updateClient result ",e),200!==e.data.result)throw new Error(e.data.resultMsg);confirm("디지털 게시판을 수정했습니다.")}).then().catch(function(e){t.$log.error("updateClient fail ",e),alert("디지털 게시판을 수정하지 못했습니다. ("+e.message+")")})):alert("클라이언트명을 입력하세요")}},created:function(){var t=this;this.$log.debug("clientId ",this.$route.query.clientId),this.getResolution(),null!=this.$route.query.clientId&&p["a"].client.getClient(this.$route.query.clientId).then(function(e){if(t.$log.debug("clientId ",t.$route.query.clientId),200!==e.data.result)throw new Error(e.data.resultMsg);t.client.organId=e.data.data.organId,t.client.clientName=e.data.data.clientName,t.client.clientId=e.data.data.clientId,t.client.boards=e.data.data.boards,t.client.organName=e.data.data.organName,t.$refs.monitorCountDropdown.selectItem(t.monitorCounts[e.data.data.boards.length-1]),t.client.boards?e.data.data.boards.forEach(function(e,a){t.monitorResolutionType=0==e.layoutType?"0":"1";var s=t.resolutions[0];e.layoutType,t.resolutions.forEach(function(t){t.width==e.width&t.height==e.height&&(s=t)}),t.$refs.resolutionDropdown.selectItem(s),t.boards_init[a].show=!0,t.$refs.contentTypeDropdown[a].selectItem(t.contentTypes.find(function(t){return t.value===e.boardType}))}):t.boards_init[0].show=!1}).catch(function(e){t.$log.error("클라이언트 정보 조회를 실패했습니다. ",e),alert("클라이언트 정보 조회를 실패했습니다.\n("+e.message+")")})}},hs=ps,ms=(a("a8bb"),Object(f["a"])(hs,is,rs,!1,null,null,null)),gs=ms.exports,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-x":"auto","overflow-y":"auto"}},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var a=t.allChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.allChecked=a.concat([i])):r>-1&&(t.allChecked=a.slice(0,r).concat(a.slice(r+1)))}else t.allChecked=n}}})]),a("th",[t._v("\n                                    요일\n                                ")]),a("th",[t._v("\n                                    클라이언트목록\n                                ")]),a("th",[t._v("\n                                    시작시간\n                                ")]),a("th",[t._v("\n                                    종료시간\n                                ")])])]),a("tbody",t._l(t.schedulesAndHolidays.weekSchedule,function(e){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"schedule.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)}}})]),"7"==e.weekDay?a("td",{staticClass:"text-primary"},[t._v(t._s(e.name))]):"1"==e.weekDay?a("td",{staticClass:"text-danger"},[t._v(t._s(e.name))]):a("td",{staticClass:"text-light"},[t._v("\n                                "+t._s(e.name)+"\n                              ")]),a("td",{staticClass:"text-primary text-strong"},[a("span",{attrs:{title:t.allClients}},[t._v("\n                                  모든클라이언트\n                                ")])]),a("td",[a("dropdown",{ref:"startTimeDropdown",refInFor:!0,attrs:{scroll:"",items:t.times,defaultSelectedIndex:e.startTime-1},on:{selectedItem:function(t){e.startTime=t.value}}})],1),a("td",[a("dropdown",{ref:"endTimeDropdown",refInFor:!0,attrs:{scroll:"",items:t.times,defaultSelectedIndex:e.endTime-1},on:{selectedItem:function(t){e.endTime=t.value}}})],1)])}),0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 justify-content-end"},[a("button",{staticClass:"btn btn-primary",on:{click:t.setSchedules}},[a("i",{staticClass:"fa fa-send mx-1"},[t._v("적용")])])])])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"card"},[t._m(2),a("div",{staticClass:"card-body",staticStyle:{"min-height":"620px","max-height":"620px","overflow-x":"auto","overflow-y":"auto"}},[a("div",{staticClass:"row"},[a("span",{staticStyle:{"padding-left":"3em"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.schedulesAndHolidays.holidayOffChecked,expression:"schedulesAndHolidays.holidayOffChecked"}],staticClass:"form-check-input",attrs:{id:"check1",type:"checkbox"},domProps:{checked:Array.isArray(t.schedulesAndHolidays.holidayOffChecked)?t._i(t.schedulesAndHolidays.holidayOffChecked,null)>-1:t.schedulesAndHolidays.holidayOffChecked},on:{change:function(e){var a=t.schedulesAndHolidays.holidayOffChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.schedulesAndHolidays,"holidayOffChecked",a.concat([i])):r>-1&&t.$set(t.schedulesAndHolidays,"holidayOffChecked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.schedulesAndHolidays,"holidayOffChecked",n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("공휴일에 동작하지 않음")])])]),a("div",{staticClass:"row py-3"},[a("span",{staticStyle:{"padding-left":"3em"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.schedulesAndHolidays.customHolidayOffChecked,expression:"schedulesAndHolidays.customHolidayOffChecked"}],staticClass:"form-check-input",attrs:{id:"check1",type:"checkbox"},domProps:{checked:Array.isArray(t.schedulesAndHolidays.customHolidayOffChecked)?t._i(t.schedulesAndHolidays.customHolidayOffChecked,null)>-1:t.schedulesAndHolidays.customHolidayOffChecked},on:{change:function(e){var a=t.schedulesAndHolidays.customHolidayOffChecked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.schedulesAndHolidays,"customHolidayOffChecked",a.concat([i])):r>-1&&t.$set(t.schedulesAndHolidays,"customHolidayOffChecked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.schedulesAndHolidays,"customHolidayOffChecked",n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"check1"}},[t._v("지정휴일에 동작하지 않음")])])]),a("div",{staticClass:"row mx-2"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.extraDateTitle,expression:"extraDateTitle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.extraDateTitle},on:{input:function(e){e.target.composing||(t.extraDateTitle=e.target.value)}}})]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.extraDate,expression:"extraDate"}],ref:"extraDatePicker",staticClass:"form-control",attrs:{id:"date-input",type:"date",name:"date-input",placeholder:"date"},domProps:{value:t.extraDate},on:{input:function(e){e.target.composing||(t.extraDate=e.target.value)}}})])]),a("div",{staticClass:"col-md-4 align-items-center"},[a("button",{staticClass:"btn btn-primary w-100 p-2",on:{click:t.setExtraHoliday}},[a("i",{staticClass:"icon-cup mx-1"}),t._v(" 휴일지정\n                      ")])])]),a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"card",staticStyle:{"max-height":"450px","overflow-y":"auto"}},[a("div",{staticClass:"card-header",attrs:{id:"extraHolidays"}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n                                지정 휴일 목록\n                            ")]),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.getCustomHolidaysCount()))])])]),a("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#extraHolidays"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"scrollextraHolidays",attrs:{"data-spy":"scroll","data-target":"#extraHolidays","data-offset":"0"}},t._l(t.schedulesAndHolidays.customHolidays,function(e){return a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center",attrs:{href:"javascript:void(0);"}},[t._v("\n                                    "+t._s(e.exceptDay)+"\n                                      "),a("span",{staticClass:"badge badge-info badge-pill mx-1"},[t._v(t._s(e.dayTitle))]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.delExtraHoliday(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])}),0)])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 justify-content-end"},[a("button",{staticClass:"btn btn-primary",on:{click:t.setHolidays}},[a("i",{staticClass:"fa fa-send mx-1"},[t._v("적용")])])])])])])])])])])},vs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("i",{staticClass:"icon-note"}),t._v("\n          클라이언트 동작 스케쥴")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("클라이언트 동작 시간 설정")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v(" 휴일 동작 설정")])])}],Cs={data:function(){return{allChecked:!1,allClients:"등록된 모든 클라이언트",extraDate:"",extraDateTitle:"임시휴일",times:Array.from({length:24},function(t,e){return{displayName:(e<12?"오전 ":"오후 ")+(e+1)+"시",value:e+1}}),schedulesAndHolidays:{}}},watch:{allChecked:function(t){this.clientSchedule.forEach(function(e){e.checked=t})}},methods:{getCustomHolidaysCount:function(){return null==this.schedulesAndHolidays.customHolidays?0:this.schedulesAndHolidays.customHolidays.length},setExtraHoliday:function(){var t=this;if(this.$log.debug("지정 휴일 추가 -> ",this.extraDate,this.extraDateTitle),this.extraDate){var e=!1;this.schedulesAndHolidays.customHolidays.some(function(a,s){if(t.$log.debug("이미 지정된 휴일여부 체크 -> ",t.extraDate,a.exceptDay),a.exceptDay==t.extraDate)return alert("이미 지정된 휴일입니다."),t.$log.debug("이미 지정된 휴일입니다. -> ",t.extraDate,t.extraDateTitle),e=!0,!0}),0==e&&this.schedulesAndHolidays.customHolidays.push({exceptDay:this.extraDate,dayTitle:this.extraDateTitle})}},delExtraHoliday:function(t){var e=this;this.$log.debug("지정 휴일 삭제 -> ",t.exceptDay,t.dayTitle),t&&this.schedulesAndHolidays.customHolidays.some(function(a,s){if(a.exceptDay==t.exceptDay&&a.dayTitle==t.dayTitle)return e.schedulesAndHolidays.customHolidays.splice(s,1),!0})},getSchedulesAndHolidays:function(){var t=this;p["a"].client.getSchedulesAndHolidays().then(function(e){t.$log.debug("클라이언트 동작스케쥴 & 휴일스케쥴 조회 ",e),200===e.data.result?(t.schedulesAndHolidays=e.data.data,t.schedulesAndHolidays.weekSchedule.forEach(function(t){switch(t.checked="Y"==t.useYn,t.weekDay){case 2:t.name="월";break;case 3:t.name="화";break;case 4:t.name="수";break;case 5:t.name="목";break;case 6:t.name="금";break;case 7:t.name="토";break;case 1:t.name="일";break}}),t.schedulesAndHolidays.holidayOffChecked="Y"==t.schedulesAndHolidays.holidayOff,t.schedulesAndHolidays.customHolidayOffChecked="Y"==t.schedulesAndHolidays.customHolidayOff):alert("클라이언트 동작스케쥴 & 휴일스케쥴를 실패했습니다 ("+e.data.resultMsg+")")}).catch(function(t){alert("클라이언트 동작스케쥴 & 휴일스케쥴를 실패했습니다 ("+t.message+")")})},setSchedules:function(){var t=this;this.schedulesAndHolidays.weekSchedule.forEach(function(t){t.useYn=1==t.checked?"Y":"N"}),p["a"].client.updateSchedules(this.schedulesAndHolidays.weekSchedule).then(function(e){t.$log.debug("클라이언트 동작스케쥴 업데이트 ",e),200===e.data.result?alert("클라이언트 동작스케쥴 업데이트를 완료하였습니다."):alert("클라이언트 동작스케쥴 업데이트를 실패했습니다 ("+e.data.resultMsg+")")}).catch(function(t){alert("클라이언트 동작스케쥴 업데이트를 실패했습니다 ("+t.message+")")})},setHolidays:function(){var t=this;this.schedulesAndHolidays.holidayOff=1==this.schedulesAndHolidays.holidayOffChecked?"Y":"N",this.schedulesAndHolidays.customHolidayOff=1==this.schedulesAndHolidays.customHolidayOffChecked?"Y":"N",p["a"].client.updateHolidays(this.schedulesAndHolidays).then(function(e){t.$log.debug("휴일스케쥴 업데이트 ",e),200===e.data.result?alert("휴일스케쥴 업데이트를 완료하였습니다."):alert("휴일스케쥴 업데이트를 실패했습니다 ("+e.data.resultMsg+")")}).catch(function(t){alert("휴일스케쥴 업데이트를 실패했습니다 ("+t.message+")")})}},created:function(){this.getSchedulesAndHolidays()},mounted:function(){},components:{Dropdown:$e["a"]}},ys=Cs,bs=(a("b617"),Object(f["a"])(ys,fs,vs,!1,null,null,null)),_s=bs.exports,ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[t._m(1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form row mb-3"},[t._m(2),a("div",{staticClass:"col align-self-center"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"120px","margin-left":"10px"},on:{click:function(e){return t.searchLog(1)}}},[a("i",{staticClass:"fa fa-archive mx-1"}),t._v("로그보기")])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n                  로그\n                  "),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.pagination.totalCount))])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped"},[t._m(3),a("tbody",t._l(t.logs,function(e){return a("tr",[a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.messageTarget))]),a("td",[t._v(t._s(e.message))]),a("td",{class:"1"==e.messageCode?"text-success":"2"==e.messageCode?"text-danger":""},[t._v("\n                          "+t._s(e.messageType)+"\n                        ")])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchLog}})],1)])])])])])},ws=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("로그")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("검색 조건")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시날짜")]),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("타입")]),a("th",[t._v("제목")]),a("th",[t._v("날짜\n                          ")]),a("th",[t._v("대상")]),a("th",[t._v("내용")]),a("th",[t._v("구분")])])])}],xs={data:function(){return{allChecked:!1,pagination:{pageNum:1,pageCount:10,totalCount:1},searchCondition:{postingStart:Bt["a"].toFormat("YYYYMMDD"),postingEnd:Bt["a"].toFormat("YYYYMMDD"),type:"",title:"",messageCode:"",messageTarget:""},postingStart:Bt["a"].toFormat("YYYYMMDD"),postingEnd:Bt["a"].toFormat("YYYYMMDD"),logType:"ERR",logInfo:[{type:"로그",title:"권한요청",message:"1234님이 권한요청을 하였습니다.",messageType:"요청",messageCode:"1",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"시스템로그",message:"시스템 디스크가 부족합니다.",messageType:"오류",messageCode:"2",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"동작로그",message:"1234님이 클라이언트1을 중지하였습니다.",messageType:"오류",messageCode:"3",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"클라이언트로그",message:"클라이언트1이 중지되었습니다.",messageType:"일반",messageCode:"3",messageTarget:"클라이언트1",date:"2019-11-20"}]}},components:{LinkedDatePicker:Ft,Pagination:pt},created:function(){},mounted:function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}};e.ranges={"지난 1달":[moment().subtract(29,"days"),moment()],"오늘 날짜":[moment(),moment()]},$('input[name="daterange"]').daterangepicker(e,function(e,a,s){t.postingStart=e.format("YYYYMMDD"),t.postingEnd=a.format("YYYYMMDD")})},watch:{},methods:{searchLog:function(t){var e=this,a={pageNum:t,pageCount:this.pagination.pageCount,startDate:this.postingStart,endDate:this.postingEnd,logType:this.logType};this.$log.debug("searchCondition ",a),p["a"].log.searchLog(a).then(function(a){var s;if(200!==a.data.result)throw s=new Error(a.data.resultMsg),s.resultData=a.data,s;e.$log.debug("로그 정보 조회 성공 ",a.data),e.logInfo=a.data.list,e.$refs.pagination.updatePagination({pageNum:t,totalCount:a.data.totalCount})}).catch(function(t){e.$log.error("로그 정보 조회 실패 ",t),alert("로그 정보 조회에 실패했습니다.\n"+t.message)})}}},Ts=xs,Es=Object(f["a"])(Ts,ks,ws,!1,null,null,null),Ss=Es.exports,Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row",staticStyle:{"font-weight":"bold","font-size":"medium"}},[t._v("\n            시스템 사양\n        ")]),a("div",{staticClass:"row"},[a("ul",[a("li",[t._v("OS : "+t._s(t.systemResources.os.name))]),a("li",[t._v("CPU : "+t._s(t.systemResources.cpu.name))]),a("li",[t._v("MEMORY : "+t._s(t.systemResources.memory.total)+" GB")]),a("li",[t._v("DISK : "+t._s(t.systemResources.disk.total)+" GB")]),a("li",[t._v("Ethernet : "+t._s(t.systemResources.nic.name)+" "+t._s(t.systemResources.nic.speed))])])]),a("div",{staticClass:"row mb-3"},[a("pie-chart",{ref:"cpuPieChart",attrs:{"chart-width":"400px","chart-height":"400px",labels:t.cpuChart.labels,"chart-data":t.cpuChart.data}}),a("pie-chart",{ref:"memoryPieChart",attrs:{"chart-width":"400px","chart-height":"400px",labels:t.memoryChart.labels,"chart-data":t.memoryChart.data}}),a("pie-chart",{ref:"diskPieChart",attrs:{"chart-width":"400px","chart-height":"400px",labels:t.diskChart.labels,"chart-data":t.diskChart.data}})],1)])])},$s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("서버 모니터링")])])}],Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.chartRootClass},[a("canvas",{ref:"chartCanvas",attrs:{width:t.chartWidth,height:t.chartHeight}})])},Ns=[],Is=a("30ef"),As=a.n(Is);function Os(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Ms={props:(us={chartType:{type:String,require:!1,default:"pie"},chartRootClass:{type:String,require:!1,default:""},chartWidth:{type:String,require:!1,default:"400px"},chartHeight:{type:String,require:!1,default:"400px"},borderWidth:{type:Number,require:!1,default:1},labels:{type:Array,require:!0}},Os(us,"borderWidth",{type:Number,require:!1,default:1}),Os(us,"chartData",{type:Array,require:!0}),us),data:function(){return{chart:null}},methods:{updateChart:function(t){this.chart.data.labels.splice(0,this.chart.data.labels.length),this.chart.data.datasets.splice(0,this.chart.data.datasets.length),this.chart.data.labels=t.labels.map(function(t){return t.label}),this.chart.data.datasets.push({data:t.data,backgroundColor:t.labels.map(function(t){return t.backgroundColor}),borderColor:t.labels.map(function(t){return t.borderColor}),borderWidth:this.borderWidth}),this.chart.update()}},mounted:function(){this.chart=new As.a(this.$refs.chartCanvas,{type:this.chartType,data:{labels:this.labels.map(function(t){return t.label}),datasets:[{data:this.chartData,backgroundColor:this.labels.map(function(t){return t.backgroundColor}),borderColor:this.labels.map(function(t){return t.borderColor}),borderWidth:this.borderWidth}]}})}},js=Ms,Ls=Object(f["a"])(js,Ps,Ns,!1,null,null,null),Ys=Ls.exports,Us=3e4,Rs={data:function(){return{updateTimer:null,systemResources:{os:{name:"windows"},cpu:{name:"Xeon",cores:"12",usage:"5.5"},memory:{total:"1234",usage:"5",used:"5678"},disk:{total:"1234",usage:"40",used:"5678"},nic:{name:"intel gigabit",speed:"5G"}},cpuChart:{labels:[{label:"CPU 사용률",backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"},{label:"여유"}],data:[12,88]},diskChart:{labels:[{label:"DISK 사용률",backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"},{label:"여유"}],data:[12,88]},memoryChart:{labels:[{label:"MEM 사용률",backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"},{label:"여유"}],data:[12,88]}}},components:{PieChart:Ys},methods:{getSystemResources:function(){var t=this;this.$log.debug("getSystemResources -> "),this.cpuChart.data.splice(0,this.cpuChart.data.length),this.diskChart.data.splice(0,this.diskChart.data.length),this.memoryChart.data.splice(0,this.memoryChart.data.length),p["a"].systemresource.getSystemResources().then(function(e){var a;if(200!==e.status)throw a=new Error(e.data.resultMsg),a.resultData=e.data,a;t.$log.debug("서버 시스템 정보 조회 성공 ",e.data),t.systemResources=e.data,t.cpuChart.data.push(t.systemResources.cpu.usage),t.cpuChart.data.push(100-parseInt(t.systemResources.cpu.usage)),t.diskChart.data.push(t.systemResources.disk.usage),t.diskChart.data.push(100-parseInt(t.systemResources.disk.usage)),t.memoryChart.data.push(t.systemResources.memory.usage),t.memoryChart.data.push(100-parseInt(t.systemResources.memory.usage)),t.$refs.cpuPieChart.updateChart(t.cpuChart),t.$refs.diskPieChart.updateChart(t.diskChart),t.$refs.memoryPieChart.updateChart(t.memoryChart)}).catch(function(e){t.$log.error("서버 시스템 정보 조회 실패 ",e),alert("서버 시스템 정보 조회에 실패했습니다.\n"+e.message)})}},created:function(){var t=this;this.getSystemResources(),this.updateTimer=setInterval(function(){t.getSystemResources()},Us)},destroyed:function(){clearInterval(this.updateTimer),this.updateTimer=null}},qs=Rs,Hs=Object(f["a"])(qs,Ds,$s,!1,null,null,null),Fs=Hs.exports,Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[t._m(1),a("div",{staticClass:"card-body"},[t._m(2),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-1"},[t._v("\n                컨텐츠 타입\n              ")]),t._l(t.contentTypes,function(e){return a("div",{staticClass:"col-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"contentType.checked"}],staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(a){var s=e.checked,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"checked",s.concat([r])):o>-1&&t.$set(e,"checked",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"checked",i)},function(a){return t.checkContentType(e,e.checked)}]}}),a("i",{class:t.getContentTypeIcon(e),staticStyle:{"padding-left":"3px"}}),t._v("\n                "+t._s(e.displayName)+"\n              ")])}),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"120px","margin-left":"10px"},on:{click:function(e){return t.searchStatistic()}}},[a("i",{staticClass:"icon-pie-chart mx-1"}),t._v("\n                  통계보기\n                ")])])],2)])]),a("div",{staticClass:"row mb-3 justify-content-start"},[a("div",{staticClass:"col-sm-2 col-md-2"},t._l(t.chart.labels,function(e,s){return a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item d-flex list-group-item-action justify-content-between align-items-center",attrs:{href:"javascript:void(0);"}},[t._v("\n                    "+t._s(e.label)+"\n                    "),a("span",{staticClass:"badge badge-info badge-pill mx-1"},[t._v(t._s(t.chart.data[s]))])])])}),0),a("pie-chart",{ref:"pieChart",attrs:{"chart-width":"400px","chart-height":"400px",labels:t.chart.labels,"chart-data":t.chart.data}})],1)])])},Gs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("통계보기")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-note"}),a("strong",[t._v("통계")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form row mb-3"},[a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("게시날짜")]),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-calendar"})])]),a("input",{staticClass:"form-control",attrs:{name:"daterange",type:"text"}})])])])])}],zs=[{label:"공고문",contentType:"005",backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)"},{label:"이미지",contentType:"001",backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"},{label:"동영상",contentType:"002",backgroundColor:"rgba(255, 206, 86, 0.2)",borderColor:"rgba(255, 206, 86, 1)"},{label:"자막",contentType:"003",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)"},{label:"웹URL",contentType:"004",backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)"}],Ws={components:{LinkedDatePicker:Ft,PieChart:Ys},data:function(){return{postingStart:Bt["a"].toFormat("YYYYMMDD"),postingEnd:Bt["a"].toFormat("YYYYMMDD"),chart:{labels:[],data:[],totalCount:0},contentTypes:sa.map(function(t){return t.checked=!0,t})}},methods:{getContentTypeIcon:function(t){switch(t.value){case"001":return"fa fa-file-image-o";case"002":return"fa fa-file-movie-o";case"003":return"fa fa-file-text-o";case"004":return"fa fa-file-word-o";case"005":return"fa fa-file-pdf-o";default:return"fa fa-file-image-o"}},checkContentType:function(t,e){this.$log.debug("checkContentType ",t,e)},searchStatistic:function(){var t=this,e={startDate:this.postingStart,endDate:this.postingEnd};this.$log.debug("searchStatistic condition : ",e),p["a"].statistic.searchStatistic(e).then(function(e){var a;if(200!==e.data.result)throw a=new Error(e.data.resultMsg),a.resultData=e.data,a;t.$log.debug("통계 정보 조회 성공 ",e.data),t.chart.totalCount=e.data.totalCount,t.chart.data.splice(0,t.chart.data.length),t.chart.labels.splice(0,t.chart.labels.length),e.data.list.forEach(function(e,a){var s,n=t.contentTypes.find(function(t){return t.value==e.contentType});n&&1==n.checked&&(s=zs.find(function(t){return t.contentType==e.contentType}),t.chart.labels.push(s),t.chart.data.push(e.count))}),t.$refs.pieChart.updateChart(t.chart)}).catch(function(e){t.$log.error("통계 정보 조회 실패 ",e),alert("통계 정보 조회에 실패했습니다.\n"+e.message)})}},mounted:function(){var t=this,e={alwaysShowCalendars:!0,locale:{format:"YYYY.MM.DD",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}};e.ranges={"지난 1달":[moment().subtract(29,"days"),moment()],"오늘 날짜":[moment(),moment()]},e.startDatePlaceholder="게시시작일",e.endDatePlaceholder="게시종료일",$('input[name="daterange"]').daterangepicker(e,function(e,a,s){t.postingStart=e.format("YYYYMMDD000000"),t.postingEnd=a.format("YYYYMMDD235959")})},created:function(){this.searchStatistic()}},Vs=Ws,Js=Object(f["a"])(Vs,Bs,Gs,!1,null,null,null),Ks=Js.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("div",{staticClass:"card shadow-sm p-1 mb-2 bg-dark rounded"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"icon-bell"}),a("strong",[t._v("알림")]),a("span",{staticClass:"badge list-count"},[t._v("총개수 "+t._s(t.pagination.totalCount))]),a("div",{staticClass:"card-header-actions"})]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-responsive-sm table-striped"},[t._m(1),a("tbody",t._l(t.notifications,function(e){return a("tr",[a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.messageTarget))]),a("td",[t._v(t._s(e.message))]),a("td",{class:"1"==e.messageCode?"text-success":"2"==e.messageCode?"text-danger":""},[t._v("\n                            "+t._s(e.messageType)+"\n                          ")])])}),0)]),a("pagination",{ref:"pagination",attrs:{pagination:t.pagination},on:{selectPage:t.searchNotification}})],1)])])])])},Xs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("알림내역")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("타입")]),a("th",[t._v("제목")]),a("th",[t._v("날짜")]),a("th",[t._v("대상")]),a("th",[t._v("내용")]),a("th",[t._v("구분")])])])}],Zs={data:function(){return{pagination:{pageNum:1,pageCount:10,totalCount:1},searchCondition:{startDate:"",endDate:"",type:"",title:"",messageCode:"",messageTarget:""},notifications:[{type:"로그",title:"권한요청",message:"1234님이 권한요청을 하였습니다.",messageType:"요청",messageCode:"1",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"시스템로그",message:"시스템 디스크가 부족합니다.",messageType:"오류",messageCode:"2",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"동작로그",message:"1234님이 클라이언트1을 중지하였습니다.",messageType:"오류",messageCode:"3",messageTarget:"CMS",date:"2019-11-20"},{type:"로그",title:"클라이언트로그",message:"클라이언트1이 중지되었습니다.",messageType:"일반",messageCode:"3",messageTarget:"클라이언트1",date:"2019-11-20"}]}},components:{Pagination:pt},create:function(){},mounted:function(){},watch:{},method:{searchNotification:function(){this.$log.debug("searchCondition ",this.searchCondition);pageNum,this.pagination.pageCount}}},tn=Zs,en=Object(f["a"])(tn,Qs,Xs,!1,null,null,null),an=en.exports,sn=[{path:"/",name:"home",component:Ct},{path:"/noti",name:"notiManagement",component:Ot},{path:"/noti/search",name:"notiSearch",component:Jt},{path:"/noti/add",name:"notiAdd",component:pe,alias:["/noti/update"]},{path:"/promotion",name:"promotionManagement",component:Ee},{path:"/promotion/add",name:"promotionAdd",component:Ye,alias:["/promotion/update"]},{path:"/promotion/search",name:"promotionSearch",component:Ge},{path:"/promotion/template",name:"promotionTemplateSetting",component:Xe},{path:"/contents",name:"contentsManagement",component:ma},{path:"/organization",name:"organizationChart",component:_a},{path:"/user/reqestPermission",name:"reqestPermission",component:Ja},{path:"/office",name:"officeManagement",component:Da},{path:"/user",name:"userManagement",component:ja},{path:"/user/setting",name:"userSetting",component:Fa,alias:["/user/update"]},{path:"/client",name:"clientManagement",component:ns},{path:"/client/dboard",name:"dBoardSetting",component:gs},{path:"/client/schedule",name:"clientSchedule",component:_s},{path:"/system/log",name:"log",component:Ss},{path:"/system/monitor",name:"serverMonitor",component:Fs},{path:"/system/statistics",name:"statistics",component:Ks},{path:"/system/notification",name:"notification",component:an},{path:"*",redirect:"/"}];s["a"].use(st["a"]);var nn=new st["a"]({mode:"history",scrollBehavior:function(){return{y:0}},routes:sn});new s["a"]({el:"#app-header",render:function(t){return t(C)},router:nn,store:l,mounted:function(){function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("js",new Date),t("config","UA-118965717-3"),t("config","UA-118965717-5")}}),new s["a"]({el:"#app-container",render:function(t){return t(at)},store:l,router:nn})},e315:function(t,e,a){"use strict";var s=a("4a04"),n={LOGIN:"/cms/login/auth",REQUEST_PERMISSION:"/cms/users/req",ALLOW_PERMISSION:"/cms/users/req",REFUSE_PERMISSION:"/cms/users/req",GET:"/cms/users",ADD:"/cms/users",UPDATE:"/cms/users",DELETE:"/cms/users",GET_FROM_ORGANS:"/cms/users/req"},i={login:function(t){return s["a"].request({url:s["a"].getUrl(n.LOGIN),method:s["a"].METHOD.POST,data:t})},requestPermission:function(t){return s["a"].request({url:s["a"].getUrl(n.REQUEST_PERMISSION),method:s["a"].METHOD.POST,data:t})},allowRequestedPermission:function(t){return s["a"].request({url:s["a"].getUrl(n.ALLOW_PERMISSION),method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},refuseRequestedPermission:function(t){return s["a"].request({url:s["a"].getUrl(n.REFUSE_PERMISSION),method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},getUser:function(){return s["a"].request({url:s["a"].getUrl(n.GET)})},getRequestPermission:function(){return s["a"].request({url:s["a"].getUrl(n.REQUEST_PERMISSION),method:s["a"].METHOD.GET})},getUserInfo:function(t,e){var a=0==e?s["a"].getUrl(n.GET_FROM_ORGANS):s["a"].getUrl(n.GET);return t&&(a=a+"/"+t),s["a"].request({url:a})},addUser:function(t){return s["a"].request({url:s["a"].getUrl(n.ADD),method:s["a"].METHOD.POST,data:t})},updateUser:function(t){return s["a"].request({url:s["a"].getUrl(n.UPDATE),method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},deleteUser:function(t){var e=s["a"].getUrl(n.DELETE);return t&&(e=e+"/"+t),s["a"].request({url:e,method:s["a"].METHOD.DELETE})}},r={GET_MENU:"/cms/menu"},o={getMenu:function(){return s["a"].request({url:s["a"].getUrl(r.GET_MENU)})}},c=a("9c59"),l=a.n(c),d={ADD:"/cms/announce",SEARCH:"/cms/announce",DELETE:"/cms/announce",UPDATE:"/cms/announce"},u={notiAdd:function(t,e){return s["a"].request({url:s["a"].getUrl(d.ADD),method:s["a"].METHOD.POST,headers:{"Content-Type":"multipart/form-data"},data:t,timeout:3e4,onUploadProgress:e})},updateNoti:function(t,e,a){return s["a"].request({url:s["a"].getUrl(d.UPDATE)+"/"+t,method:s["a"].METHOD.POST,headers:{"Content-Type":"multipart/form-data"},data:e,timeout:3e4,onUploadProgress:a})},searchNoti:function(t){var e=s["a"].getUrl(d.SEARCH);return t&&(e=e+"?"+l.a.stringify(t)),s["a"].request({url:e})},searchNotiDetail:function(t){return s["a"].request({url:s["a"].getUrl(d.SEARCH)+"/"+t,timeout:3e4})},removeNoti:function(t){return s["a"].request({url:s["a"].getUrl(d.DELETE),method:s["a"].METHOD.DELETE,headers:{"Content-Type":"application/json"},data:Array.isArray(t)?t:[t]})}},p={ADD:"/cms/promo",SEARCH:"/cms/promo",DELETE:"/cms/promo",UPDATE:"/cms/promo"},h={promotionAdd:function(t,e){return s["a"].request({url:s["a"].getUrl(p.ADD),method:s["a"].METHOD.POST,headers:{"Content-Type":"multipart/form-data"},data:t,timeout:36e5,onUploadProgress:e})},updatePromotion:function(t,e,a){return s["a"].request({url:s["a"].getUrl(p.UPDATE)+"/"+t,method:s["a"].METHOD.POST,headers:{"Content-Type":"multipart/form-data"},data:e,onUploadProgress:a})},searchPromotion:function(t){var e=s["a"].getUrl(p.SEARCH);return t&&(e=e+"?"+l.a.stringify(t)),s["a"].request({url:e})},searchPromotionDetail:function(t){return s["a"].request({url:s["a"].getUrl(p.SEARCH)+"/"+t})},removePromotion:function(t){return s["a"].request({url:s["a"].getUrl(p.DELETE),method:s["a"].METHOD.DELETE,headers:{"Content-Type":"application/json"},data:Array.isArray(t)?t:[t]})}},m={GET_RESOLUTION:"/cms/code/resolution"},g={getResolution:function(t){return s["a"].request({url:"".concat(s["a"].getUrl(m.GET_RESOLUTION),"?layoutType=").concat(t)})}},f={ADD:"/cms/clients",UPDATE:"/cms/clients",DELETE:"/cms/clients",GET:"/cms/clients?pageCount=50",GET_DETAIL:"/cms/clients",GET_BOARD_INFO:"/cms/client/board",GET_ORGAN_CLIENTS:"/cms/clients/organ",GET_SCHEDULES_HOLIDAYS:"/cms/clients/schedule",UPDATE_HOLIDAYS:"/cms/clients/holiday",UPDATE_SCHEDULES:"/cms/clients/schedule",CLIENT_CONTROL:"/cms/control"},v={addClient:function(t){return s["a"].request({url:s["a"].getUrl(f.ADD),method:s["a"].METHOD.POST,headers:{"Content-Type":"application/json"},data:t})},updateClient:function(t){return s["a"].request({url:s["a"].getUrl(f.UPDATE)+"/"+t.clientId,method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},getClient:function(t){return s["a"].request({url:t?s["a"].getUrl(f.GET_DETAIL)+"/"+t:s["a"].getUrl(f.GET)})},getOrganClients:function(t){return s["a"].request({url:s["a"].getUrl(f.GET_ORGAN_CLIENTS)+"/"+t})},getBoardInfo:function(t,e,a,n){var i=s["a"].getUrl(f.GET_BOARD_INFO),r={clientId:t,boardIndex:e};return a&&(r.templateType=a),n&&(r.urgentYn=n),s["a"].request({url:i+"?"+l.a.stringify(r),timeout:6e4})},deleteClient:function(t){return s["a"].request({url:s["a"].getUrl(f.DELETE),method:s["a"].METHOD.DELETE,headers:{"Content-Type":"application/json"},data:Array.isArray(t)?t:[t]})},getSchedulesAndHolidays:function(){return s["a"].request({url:s["a"].getUrl(f.GET_SCHEDULES_HOLIDAYS)})},updateSchedules:function(t){return s["a"].request({url:s["a"].getUrl(f.UPDATE_SCHEDULES),method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},updateHolidays:function(t){return s["a"].request({url:s["a"].getUrl(f.UPDATE_HOLIDAYS),method:s["a"].METHOD.PUT,headers:{"Content-Type":"application/json"},data:t})},controlClient:function(t,e){return s["a"].request({url:s["a"].getUrl(f.CLIENT_CONTROL),method:s["a"].METHOD.POST,headers:{"Content-Type":"application/json"},data:{clientId:t,action:e}})}},C={GET_LOCATION:"/cms/location",GET_ALLOWED_LOCATION:"/cms/location/user",GET_ORGAN:"/cms/organ",GET_USERS:"/cms/organ/users"},y={getLocation:function(){return s["a"].request({url:s["a"].getUrl(C.GET_LOCATION)})},getAllowedLocation:function(){return s["a"].request({url:s["a"].getUrl(C.GET_ALLOWED_LOCATION)})},getOrgan:function(){return s["a"].request({url:s["a"].getUrl(C.GET_ORGAN)})},getUsers:function(t){return s["a"].request({url:s["a"].getUrl(C.GET_USERS)+"/"+t})}},b={SEARCH:"/cms/contents",DELETE:"/cms/contents"},_={searchContent:function(t){var e=s["a"].getUrl(b.SEARCH);return t&&(e=e+"?"+l.a.stringify(t)),s["a"].request({url:e})},removeContent:function(t){return s["a"].request({url:s["a"].getUrl(b.DELETE),method:s["a"].METHOD.DELETE,headers:{"Content-Type":"application/json"},data:Array.isArray(t)?t:[t]})}},k={GET:"/cms/dashboard"},w={getDashboard:function(){return s["a"].request({url:s["a"].getUrl(k.GET)})}},x={SEARCH_LOG:"/cms/log",ADD_LOG:"/cms/log",DELETE_LOG:"/cms/log"},T={searchLog:function(t){var e=s["a"].getUrl(x.SEARCH_LOG);return t&&(e=e+"?"+l.a.stringify(t)),s["a"].request({url:e})},addLog:function(t){return s["a"].request({url:s["a"].getUrl(x.ADD_LOG),method:s["a"].METHOD.POST,headers:{"Content-Type":"application/json"},data:t})},deleteLog:function(t){return s["a"].request({url:s["a"].getUrl(x.DELETE_LOG),method:s["a"].METHOD.DELETE,headers:{"Content-Type":"application/json"},data:Array.isArray(t)?t:[t]})}},E={SEARCH_LOG:"/cms/system/statistic"},S={searchStatistic:function(t){var e=s["a"].getUrl(E.SEARCH_LOG);return t&&(e=e+"?"+l.a.stringify(t)),s["a"].request({url:e})}},D={GET:"/cms/system/resources"},$={getSystemResources:function(){return s["a"].request({url:s["a"].getUrl(D.GET)})}};e["a"]={user:i,menu:o,noti:u,promotion:h,code:g,client:v,organ:y,content:_,dashboard:w,log:T,statistic:S,systemresource:$}},fd8e:function(t,e,a){"use strict";var s=a("bd62"),n=a.n(s);n.a}});
//# sourceMappingURL=index.d72797af.js.map